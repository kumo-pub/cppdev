"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[2732],{4852:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>a,frontMatter:()=>t,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"store/format/avro","title":"Apache Avro","description":"\u7c7b\u578b\uff1a\u884c\u5f0f\u3001\u57fa\u4e8eschema\u7684\u5e8f\u5217\u5316\u683c\u5f0f","source":"@site/i18n/zh-cn/docusaurus-plugin-content-docs/current/store/format/avro.mdx","sourceDirName":"store/format","slug":"/store/format/avro","permalink":"/cppdev/zh-cn/docs/store/format/avro","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Apache Arrow / Feather","permalink":"/cppdev/zh-cn/docs/store/format/arrow"},"next":{"title":"Substrait","permalink":"/cppdev/zh-cn/docs/store/format/substrait"}}');var l=s(4848),c=s(8453);const t={},i="Apache Avro",d={},h=[{value:"\u6982\u8ff0",id:"\u6982\u8ff0",level:2},{value:"\u6838\u5fc3\u7279\u6027",id:"\u6838\u5fc3\u7279\u6027",level:2},{value:"\u6027\u80fd\u8003\u91cf",id:"\u6027\u80fd\u8003\u91cf",level:2},{value:"\u793a\u4f8b\u57fa\u51c6\u6d4b\u8bd5",id:"\u793a\u4f8b\u57fa\u51c6\u6d4b\u8bd5",level:3},{value:"\u96c6\u6210\u573a\u666f\u4e0e\u5e94\u7528",id:"\u96c6\u6210\u573a\u666f\u4e0e\u5e94\u7528",level:2},{value:"\u8fd0\u7ef4\u6ce8\u610f\u4e8b\u9879",id:"\u8fd0\u7ef4\u6ce8\u610f\u4e8b\u9879",level:2},{value:"\u53c2\u8003\u8d44\u6599",id:"\u53c2\u8003\u8d44\u6599",level:2}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"apache-avro",children:"Apache Avro"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u7c7b\u578b"}),"\uff1a\u884c\u5f0f\u3001\u57fa\u4e8eschema\u7684\u5e8f\u5217\u5316\u683c\u5f0f"]}),"\n",(0,l.jsx)(n.h2,{id:"\u6982\u8ff0",children:"\u6982\u8ff0"}),"\n",(0,l.jsxs)(n.p,{children:["Apache Avro \u662f\u4e00\u79cd",(0,l.jsx)(n.strong,{children:"\u9762\u5411\u884c\u7684\u5e8f\u5217\u5316\u7cfb\u7edf"}),"\uff0c\u4e13\u4e3a\u9ad8\u6548\u6570\u636e\u5e8f\u5217\u5316\u3001RPC\u901a\u4fe1\u548c\u6d41\u5f0f\u5904\u7406\u8bbe\u8ba1\u3002\u4e0e Parquet \u6216 Arrow \u7b49\u5217\u5f0f\u683c\u5f0f\u4e0d\u540c\uff0cAvro \u6309\u884c\u5b58\u50a8\u8bb0\u5f55\uff0c\u4f7f\u5176\u5728\u5199\u5bc6\u96c6\u578b\u5de5\u4f5c\u8d1f\u8f7d\u3001\u6d41\u5f0f\u6444\u5165\u548c\u884c\u7ea7\u64cd\u4f5c\u573a\u666f\u4e2d\u8868\u73b0\u6700\u4f18\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["Avro \u4f9d\u8d56",(0,l.jsx)(n.strong,{children:"schema\uff08\u6a21\u5f0f\uff09"})," \u5b9a\u4e49\u6570\u636e\u7ed3\u6784\uff0c\u4e14 schema \u4f1a",(0,l.jsx)(n.strong,{children:"\u4e0e\u6570\u636e\u4e00\u540c\u5b58\u50a8"}),"\uff0c\u652f\u6301\u81ea\u63cf\u8ff0\u6587\u4ef6\uff0c\u5e76\u80fd\u5728\u4e0d\u7834\u574f\u517c\u5bb9\u6027\u7684\u524d\u63d0\u4e0b\u5b9e\u73b0 schema \u8fdb\u5316\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"\u6838\u5fc3\u7279\u6027",children:"\u6838\u5fc3\u7279\u6027"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u884c\u5f0f\u5b58\u50a8"}),"\uff1a\u6bcf\u6761\u8bb0\u5f55\u8fde\u7eed\u5199\u5165\uff0c\u652f\u6301\u5feb\u901f\u5199\u5165\u548c\u884c\u7ea7\u8bbf\u95ee"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u57fa\u4e8eschema"}),"\uff1a\u6240\u6709 Avro \u6570\u636e\u5fc5\u987b\u9075\u5faa JSON \u683c\u5f0f\u7684 schema\uff0c\u8bfb\u53d6\u7aef\u53ef\u81ea\u52a8\u5904\u7406\u7f3a\u5931\u5b57\u6bb5\u6216\u8fdb\u5316\u540e\u7684 schema"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u52a8\u6001schema\u8fdb\u5316"}),"\uff1a\u652f\u6301\u6dfb\u52a0\u3001\u5220\u9664\u6216\u4fee\u6539\u5b57\u6bb5\uff0c\u5177\u5907\u5411\u524d/\u5411\u540e\u517c\u5bb9\u6027"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u6570\u636e\u7c7b\u578b"}),"\uff1a\u652f\u6301\u57fa\u672c\u7c7b\u578b\uff08int\u3001long\u3001float\u3001double\u3001string\u3001bytes\uff09\u3001\u590d\u6742\u7c7b\u578b\uff08\u8bb0\u5f55\u3001\u6570\u7ec4\u3001\u6620\u5c04\u3001\u8054\u5408\u3001\u679a\u4e3e\u3001\u56fa\u5b9a\u957f\u5ea6\u7c7b\u578b\uff09"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u5e8f\u5217\u5316/RPC"}),"\uff1a\u539f\u751f\u652f\u6301\u4e8c\u8fdb\u5236\u7f16\u7801\u3001JSON\u7f16\u7801\uff0c\u53ef\u4e0e RPC \u6846\u67b6\u65e0\u7f1d\u96c6\u6210"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u538b\u7f29\u652f\u6301"}),"\uff1a\u5185\u7f6e ",(0,l.jsx)(n.code,{children:"deflate"}),"\u3001",(0,l.jsx)(n.code,{children:"snappy"})," \u7b49\u538b\u7f29\u7f16\u89e3\u7801\u5668\uff0c\u9002\u7528\u4e8e\u78c1\u76d8\u5b58\u50a8"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u6027\u80fd\u8003\u91cf",children:"\u6027\u80fd\u8003\u91cf"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u5199\u5165\u541e\u5410\u91cf"}),"\uff1a\u4f18\u5316\u7528\u4e8e\u4ec5\u8ffd\u52a0\u6216\u6d41\u5f0f\u573a\u666f\u4e0b\u7684\u987a\u5e8f\u5199\u5165"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u8bfb\u53d6\u6027\u80fd"}),"\uff1a\u884c\u7ea7\u8bbf\u95ee\u6548\u7387\u9ad8\uff1b\u4e0e\u5217\u5f0f\u683c\u5f0f\u76f8\u6bd4\uff0c\u5728\u5206\u6790\u578b\u5de5\u4f5c\u8d1f\u8f7d\u4e2d\u7f13\u5b58\u53cb\u597d\u6027\u8f83\u5f31"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u538b\u7f29\u8868\u73b0"}),"\uff1a\u4e8c\u8fdb\u5236\u7f16\u7801\u51cf\u5c0f\u6587\u4ef6\u4f53\u79ef\uff1b",(0,l.jsx)(n.code,{children:"snappy"})," \u7f16\u89e3\u7801\u5668\u5728\u901f\u5ea6\u4e0e\u538b\u7f29\u6bd4\u4e4b\u95f4\u53d6\u5f97\u826f\u597d\u5e73\u8861"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u793a\u4f8b\u57fa\u51c6\u6d4b\u8bd5",children:"\u793a\u4f8b\u57fa\u51c6\u6d4b\u8bd5"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u64cd\u4f5c"}),(0,l.jsx)(n.th,{children:"Avro\uff08\u4e8c\u8fdb\u5236\u7f16\u7801\uff09"}),(0,l.jsx)(n.th,{children:"JSON"}),(0,l.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u5199\u5165 1000\u4e07\u884c\xd710\u5217\u6570\u636e"}),(0,l.jsx)(n.td,{children:"\u7ea6 1.2 \u79d2"}),(0,l.jsx)(n.td,{children:"\u7ea6 15 \u79d2"}),(0,l.jsx)(n.td,{children:"\u4e8c\u8fdb\u5236\u7f16\u7801\u663e\u8457\u63d0\u5347\u541e\u5410\u91cf"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u8bfb\u53d6 1000\u4e07\u884c\xd710\u5217\u6570\u636e"}),(0,l.jsx)(n.td,{children:"\u7ea6 0.9 \u79d2"}),(0,l.jsx)(n.td,{children:"\u7ea6 12 \u79d2"}),(0,l.jsx)(n.td,{children:"\u884c\u5f0f\u5b58\u50a8\u66f4\u9002\u914d\u6d41\u5f0f\u573a\u666f"})]})]})]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u57fa\u51c6\u6d4b\u8bd5\u7ed3\u679c\u56e0 JVM/Python/C++ \u5b9e\u73b0\u53ca\u538b\u7f29\u7f16\u89e3\u7801\u5668\u4e0d\u540c\u800c\u5f02\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u96c6\u6210\u573a\u666f\u4e0e\u5e94\u7528",children:"\u96c6\u6210\u573a\u666f\u4e0e\u5e94\u7528"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u6d41\u5f0f\u6444\u5165"}),"\uff1aKafka\u3001Flink \u7b49\u6d41\u5904\u7406\u7cfb\u7edf\u5e38\u4f7f\u7528 Avro \u8fdb\u884c\u6d88\u606f\u5e8f\u5217\u5316"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u6570\u636e\u6d41\u6c34\u7ebf"}),"\uff1a\u9002\u7528\u4e8e\u5199\u5bc6\u96c6\u578b ETL \u4efb\u52a1\uff0c\u5c24\u5176\u5f53\u884c\u7ea7\u539f\u5b50\u6027\u81f3\u5173\u91cd\u8981\u65f6"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"RPC \u901a\u4fe1"}),"\uff1aschema \u8fdb\u5316\u7279\u6027\u4f7f Avro \u9002\u5408\u6d88\u606f\u7ed3\u6784\u52a8\u6001\u53d8\u5316\u7684\u957f\u671f\u8fd0\u884c\u670d\u52a1"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u6570\u636e\u5b58\u50a8"}),"\uff1a\u7528\u4e8e\u7d27\u51d1\u3001\u81ea\u63cf\u8ff0\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u5b58\u50a8\uff0c\u5c24\u5176\u9002\u5408 schema \u9891\u7e41\u8fdb\u5316\u7684\u573a\u666f"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u8fd0\u7ef4\u6ce8\u610f\u4e8b\u9879",children:"\u8fd0\u7ef4\u6ce8\u610f\u4e8b\u9879"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"schema \u7ba1\u7406"}),"\uff1a\u751f\u4ea7\u73af\u5883\u6d41\u6c34\u7ebf\u9700\u90e8\u7f72 schema \u6ce8\u518c\u4e2d\u5fc3\uff08\u5982 Confluent Schema Registry\uff09"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u6587\u4ef6\u5206\u7247"}),"\uff1aAvro \u6587\u4ef6\u652f\u6301\u5206\u7247\uff0c\u8fd9\u5bf9 Hadoop\u3001Spark \u7b49\u5e76\u884c\u5904\u7406\u6846\u67b6\u81f3\u5173\u91cd\u8981"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u538b\u7f29\u6743\u8861"}),"\uff1a",(0,l.jsx)(n.code,{children:"snappy"})," \u901f\u5ea6\u5feb\uff0c",(0,l.jsx)(n.code,{children:"deflate"})," \u538b\u7f29\u6bd4\u66f4\u9ad8\u4f46\u5360\u7528\u66f4\u591a CPU \u8d44\u6e90"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u6d41\u5f0f vs \u6279\u5904\u7406"}),"\uff1aAvro \u64c5\u957f\u6d41\u5f0f\u573a\u666f\uff1b\u5927\u89c4\u6a21\u6570\u636e\u96c6\u7684\u5206\u6790\u67e5\u8be2\u5efa\u8bae\u4f7f\u7528 Parquet \u7b49\u5217\u5f0f\u683c\u5f0f"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u53c2\u8003\u8d44\u6599",children:"\u53c2\u8003\u8d44\u6599"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://avro.apache.org/",children:"Apache Avro \u5b98\u65b9\u6587\u6863"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://avro.apache.org/docs/current/spec.html#Binary_encoding",children:"Avro \u4e8c\u8fdb\u5236\u7f16\u7801\u89c4\u8303"})}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>i});var r=s(6540);const l={},c=r.createContext(l);function t(e){const n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);