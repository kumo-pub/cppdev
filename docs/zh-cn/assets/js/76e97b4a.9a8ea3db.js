"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[3144],{3349:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>d,default:()=>a,frontMatter:()=>c,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"testing/doct/commandline","title":"Command Line","description":"Command Line","source":"@site/docs/testing/doct/commandline.mdx","sourceDirName":"testing/doct","slug":"/testing/doct/commandline","permalink":"/zh-cn/docs/testing/doct/commandline","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/testing/doct/commandline.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"logging","permalink":"/zh-cn/docs/testing/doct/logging"},"next":{"title":"main() Entry Point","permalink":"/zh-cn/docs/testing/doct/main"}}');var r=s(4848),i=s(8453);const c={},d="Command Line",l={},o=[{value:"Command Line",id:"command-line",level:2}];function h(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"command-line",children:"Command Line"})}),"\n",(0,r.jsx)(t.h2,{id:"command-line",children:"Command Line"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"doctest"})," works perfectly well without any command-line options \u2013 but for more control, a bunch are available."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Query Flags"})," - After printing the result, the program exits without executing any test cases (and if the framework is integrated into a client codebase that ",(0,r.jsx)(t.a,{href:"/zh-cn/docs/testing/doct/main",children:(0,r.jsxs)(t.strong,{children:["provides its own ",(0,r.jsx)(t.code,{children:"main()"})," entry point"]})})," \u2013 after calling ",(0,r.jsx)(t.code,{children:"run()"})," on the ",(0,r.jsx)(t.code,{children:"doctest::Context"})," object, the program should check the result of the ",(0,r.jsx)(t.code,{children:"shouldExit()"})," method and exit if needed \u2013 this is up to the user to decide)."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Int/String Options"}),' - They require a value after the "=" sign \u2013 no spaces! For example: ',(0,r.jsx)(t.code,{children:"--order-by=rand"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Bool Options"})," - They expect ",(0,r.jsx)(t.code,{children:"1"}),"/",(0,r.jsx)(t.code,{children:"yes"}),"/",(0,r.jsx)(t.code,{children:"on"}),"/",(0,r.jsx)(t.code,{children:"true"})," or ",(0,r.jsx)(t.code,{children:"0"}),"/",(0,r.jsx)(t.code,{children:"no"}),"/",(0,r.jsx)(t.code,{children:"off"}),"/",(0,r.jsx)(t.code,{children:"false"})," after the ",(0,r.jsx)(t.code,{children:"="})," sign \u2013 but they can also be used like flags and the ",(0,r.jsx)(t.code,{children:"=value"})," part can be skipped \u2013 then ",(0,r.jsx)(t.code,{children:"true"})," is assumed."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Filters"})," - Comma-separated lists of wildcards used to match values \u2013 where ",(0,r.jsx)(t.code,{children:"*"}),' means "match any sequence" and ',(0,r.jsx)(t.code,{children:"?"}),' means "match any single character".']}),"\n",(0,r.jsxs)(t.p,{children:["To pass patterns with spaces, use ",(0,r.jsx)(t.code,{children:'""'})," like this: ",(0,r.jsx)(t.code,{children:'--test-case="*no sound*,Fuzzily Named Test Number?"'}),". Patterns containing commas or backslashes can be escaped with ",(0,r.jsx)(t.code,{children:"\\"})," (e.g.: ",(0,r.jsx)(t.code,{children:"--test-case=this\\,test\\,has\\,commas\\,and\\,a\\\\backslash\\,followed\\,by\\,a\\,comma"}),").\nIf a backslash is not followed by either ",(0,r.jsx)(t.code,{children:"\\``` or "}),",",(0,r.jsx)(t.code,{children:", it remains as-is, e.g., "}),'--test-case="Test if \\ works correctly"',(0,r.jsx)(t.code,{children:". Note: Your shell may also use ``\\"})," for escaping, so ",(0,r.jsx)(t.code,{children:"\\"})," may actually be consumed by the shell rather than doctest."]}),"\n",(0,r.jsxs)(t.p,{children:["If the user ",(0,r.jsx)(t.a,{href:"/zh-cn/docs/testing/doct/main",children:(0,r.jsxs)(t.strong,{children:["provides a ",(0,r.jsx)(t.code,{children:"main()"})," function"]})}),", all options can also be set (defaulted/overridden) using code."]}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Query Flags"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-?"})," \xa0\xa0\xa0 ",(0,r.jsx)(t.code,{children:"--help"})," ",(0,r.jsx)(t.code,{children:"-h"})]}),(0,r.jsx)(t.td,{children:"Print a help message listing all these flags/options"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-v"})," \xa0\xa0\xa0 ",(0,r.jsx)(t.code,{children:"--version"})]}),(0,r.jsxs)(t.td,{children:["Print the version of the ",(0,r.jsx)(t.strong,{children:"doctest"})," framework"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-c"})," \xa0\xa0\xa0 ",(0,r.jsx)(t.code,{children:"--count"})]}),(0,r.jsx)(t.td,{children:"Print the number of test cases matching the current filters (see below)"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-ltc"})," ",(0,r.jsx)(t.code,{children:"--list-test-cases"})]}),(0,r.jsx)(t.td,{children:"List all test cases by name that match the current filters (see below)"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-lts"})," ",(0,r.jsx)(t.code,{children:"--list-test-suites"})]}),(0,r.jsx)(t.td,{children:"List all test suites by name that have at least one test case matching the current filters (see below)"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-lr"})," ",(0,r.jsx)(t.code,{children:"--list-reporters"})]}),(0,r.jsxs)(t.td,{children:["List all registered ",(0,r.jsx)(t.a,{href:"/zh-cn/docs/testing/doct/reporters",children:(0,r.jsx)(t.strong,{children:"reporters"})})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.strong,{children:"Int/String Options"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"<hr>"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-tc"})," \xa0 ",(0,r.jsx)(t.code,{children:"--test-case=<filters>"})]}),(0,r.jsxs)(t.td,{children:["Filter test cases based on their names. By default, all test cases are matched, but if a value is specified for this filter (e.g., ",(0,r.jsx)(t.code,{children:"--test-case=*math*,*sound*"}),"), only test cases matching at least one pattern in the comma-separated list of wildcards will be ",(0,r.jsx)(t.code,{children:"executed/counted/listed"})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-tce"})," ",(0,r.jsx)(t.code,{children:"--test-case-exclude=<filters>"})]}),(0,r.jsxs)(t.td,{children:["Same as the ",(0,r.jsx)(t.code,{children:"-test-case=<filters>"})," option, but if any pattern in the comma-separated list of values matches \u2013 the test case is skipped"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-sf"})," \xa0 ",(0,r.jsx)(t.code,{children:"--source-file=<filters>"})]}),(0,r.jsxs)(t.td,{children:["Same as ",(0,r.jsx)(t.code,{children:"--test-case=<filters>"}),", but filter based on the file where the test case is written"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-sfe"})," ",(0,r.jsx)(t.code,{children:"--source-file-exclude=<filters>"})]}),(0,r.jsxs)(t.td,{children:["Same as ",(0,r.jsx)(t.code,{children:"--test-case-exclude=<filters>"}),", but filter based on the file where the test case is written"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-ts"})," \xa0 ",(0,r.jsx)(t.code,{children:"--test-suite=<filters>"})]}),(0,r.jsxs)(t.td,{children:["Same as ",(0,r.jsx)(t.code,{children:"--test-case=<filters>"}),", but filter based on the test suite the test case belongs to"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-tse"})," ",(0,r.jsx)(t.code,{children:"--test-suite-exclude=<filters>"})]}),(0,r.jsxs)(t.td,{children:["Same as ",(0,r.jsx)(t.code,{children:"--test-case-exclude=<filters>"}),", but filter based on the test suite the test case belongs to"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-sc"})," \xa0 ",(0,r.jsx)(t.code,{children:"--subcase=<filters>"})]}),(0,r.jsxs)(t.td,{children:["Same as ",(0,r.jsx)(t.code,{children:"--test-case=<filters>"}),", but filter subcases by name. Test cases are not filtered (they have to be executed to discover subcases), so you may want to use this together with ",(0,r.jsx)(t.code,{children:"--test-case=<filters>"}),"."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-sce"})," ",(0,r.jsx)(t.code,{children:"--subcase-exclude=<filters>"})]}),(0,r.jsxs)(t.td,{children:["Same as ",(0,r.jsx)(t.code,{children:"--test-case-exclude=<filters>"}),", but filter based on subcase names"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-r"})," ",(0,r.jsx)(t.code,{children:"--reporters=<filters>"})]}),(0,r.jsxs)(t.td,{children:["List of ",(0,r.jsx)(t.a,{href:"/zh-cn/docs/testing/doct/reporters",children:(0,r.jsx)(t.strong,{children:"reporters"})})," to use (defaults to ",(0,r.jsx)(t.code,{children:"console"}),")"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-o"})," \xa0 ",(0,r.jsx)(t.code,{children:"--out=<string>"})]}),(0,r.jsx)(t.td,{children:"Output file name"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-ob"})," \xa0 ",(0,r.jsx)(t.code,{children:"--order-by=<string>"})]}),(0,r.jsxs)(t.td,{children:["Test cases will be sorted by ",(0,r.jsx)(t.strong,{children:"the file they are in"})," / ",(0,r.jsx)(t.strong,{children:"the test suite they are in"})," / ",(0,r.jsx)(t.strong,{children:"their name"})," / ",(0,r.jsx)(t.strong,{children:"randomly"})," before execution. Possible values for ",(0,r.jsx)(t.code,{children:"<string>"})," are ",(0,r.jsx)(t.code,{children:"file"}),"/",(0,r.jsx)(t.code,{children:"suite"}),"/",(0,r.jsx)(t.code,{children:"name"}),"/",(0,r.jsx)(t.code,{children:"rand"}),"/",(0,r.jsx)(t.code,{children:"none"}),". Defaults to ",(0,r.jsx)(t.code,{children:"file"}),". ",(0,r.jsx)(t.strong,{children:'Note: The order generated by the "file", "suite", and "name" options is compiler-dependent and may vary depending on the compiler used.'})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-rs"})," \xa0 ",(0,r.jsx)(t.code,{children:"--rand-seed=<int>"})]}),(0,r.jsx)(t.td,{children:"Seed for random ordering"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-f"})," \xa0\xa0\xa0 ",(0,r.jsx)(t.code,{children:"--first=<int>"})]}),(0,r.jsxs)(t.td,{children:["The ",(0,r.jsx)(t.strong,{children:"first"})," test case to execute among those passing the current filters \u2013 for range-based execution \u2013 see ",(0,r.jsx)(t.a,{href:"https://github.com/doctest/doctest/blob/master/examples/range_based_execution.py",children:(0,r.jsx)(t.strong,{children:"example python script"})})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-l"})," \xa0\xa0\xa0 ",(0,r.jsx)(t.code,{children:"--last=<int>"})]}),(0,r.jsxs)(t.td,{children:["The ",(0,r.jsx)(t.strong,{children:"last"})," test case to execute among those passing the current filters \u2013 for range-based execution \u2013 see ",(0,r.jsx)(t.a,{href:"https://github.com/doctest/doctest/blob/master/examples/range_based_execution.py",children:(0,r.jsx)(t.strong,{children:"example python script"})})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-aa"})," \xa0 ",(0,r.jsx)(t.code,{children:"--abort-after=<int>"})]}),(0,r.jsxs)(t.td,{children:["After a number of failed assertions, the test framework will stop executing test cases/assertions. The default value is 0, which means not stopping at all. Note that the framework uses exceptions to stop the current test case regardless of the assertion level (",(0,r.jsx)(t.code,{children:"CHECK"}),"/",(0,r.jsx)(t.code,{children:"REQUIRE"}),") \u2013 so be careful with assertions in destructors..."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-scfl"})," ",(0,r.jsx)(t.code,{children:"--subcase-filter-levels=<int>"})]}),(0,r.jsxs)(t.td,{children:["Apply subcase filters only to the first ",(0,r.jsx)(t.code,{children:"<int>"})," levels of nested subcases, and run only subcases nested deeper. The default value is a very high number, meaning ",(0,r.jsx)(t.em,{children:"filter any subcase"})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.strong,{children:"Bool Options"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"<hr>"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-s"})," \xa0\xa0\xa0 ",(0,r.jsx)(t.code,{children:"--success=<bool>"})]}),(0,r.jsx)(t.td,{children:"Include successful assertions in the output"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-cs"})," \xa0 ",(0,r.jsx)(t.code,{children:"--case-sensitive=<bool>"})]}),(0,r.jsx)(t.td,{children:"Make filter matching case-sensitive (applies to test case names, suite names, source file names, and subcase names)"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-e"})," \xa0\xa0\xa0 ",(0,r.jsx)(t.code,{children:"--exit=<bool>"})]}),(0,r.jsxs)(t.td,{children:["Exit after tests complete \u2013 only meaningful if the client ",(0,r.jsx)(t.a,{href:"/zh-cn/docs/testing/doct/main",children:(0,r.jsxs)(t.strong,{children:["provides a ",(0,r.jsx)(t.code,{children:"main()"})," entry point"]})})," \u2013 the program should check the ",(0,r.jsx)(t.code,{children:"shouldExit()"})," method after calling ",(0,r.jsx)(t.code,{children:"run()"}),' on the "doctest::Context" object and exit if needed \u2013 this is up to the user. The idea is to be able to execute only the tests in the client program and not continue with its execution']})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-d"})," \xa0 ",(0,r.jsx)(t.code,{children:"--duration=<bool>"})]}),(0,r.jsx)(t.td,{children:"Print the time (in seconds) taken by each test case"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-m"})," \xa0 ",(0,r.jsx)(t.code,{children:"--minimal=<bool>"})]}),(0,r.jsx)(t.td,{children:"Print only failed tests"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-q"})," \xa0 ",(0,r.jsx)(t.code,{children:"--quiet=<bool>"})]}),(0,r.jsx)(t.td,{children:"Do not print any output"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-nt"})," \xa0 ",(0,r.jsx)(t.code,{children:"--no-throw=<bool>"})]}),(0,r.jsxs)(t.td,{children:["Skip ",(0,r.jsx)(t.a,{href:"/zh-cn/docs/testing/doct/assertions#exceptions",children:(0,r.jsx)(t.strong,{children:"exception-related assertion"})})," checks"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-ne"})," \xa0 ",(0,r.jsx)(t.code,{children:"--no-exitcode=<bool>"})]}),(0,r.jsx)(t.td,{children:"Always return a successful exit code \u2013 even if test cases fail"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-nr"})," \xa0 ",(0,r.jsx)(t.code,{children:"--no-run=<bool>"})]}),(0,r.jsxs)(t.td,{children:["Skip all runtime ",(0,r.jsx)(t.strong,{children:"doctest"})," operations (except test registration that happens before the program enters ",(0,r.jsx)(t.code,{children:"main()"}),"). Useful if the test framework is integrated into a client codebase that ",(0,r.jsx)(t.a,{href:"/zh-cn/docs/testing/doct/main",children:(0,r.jsxs)(t.strong,{children:["provides a ",(0,r.jsx)(t.code,{children:"main()"})," entry point"]})})," and the user wants to skip running the tests and just use the program"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-ni"})," \xa0 ",(0,r.jsx)(t.code,{children:"--no-intro=<bool>"})]}),(0,r.jsx)(t.td,{children:"Omit the framework introduction in the output"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-nv"})," \xa0 ",(0,r.jsx)(t.code,{children:"--no-version=<bool>"})]}),(0,r.jsx)(t.td,{children:"Omit the framework version in the output"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-nc"})," \xa0 ",(0,r.jsx)(t.code,{children:"--no-colors=<bool>"})]}),(0,r.jsx)(t.td,{children:"Disable colors in the output"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-fc"})," \xa0 ",(0,r.jsx)(t.code,{children:"--force-colors=<bool>"})]}),(0,r.jsx)(t.td,{children:"Force color usage even if a TTY cannot be detected"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-nb"})," \xa0 ",(0,r.jsx)(t.code,{children:"--no-breaks=<bool>"})]}),(0,r.jsx)(t.td,{children:"Disable breakpoints in the debugger when an assertion fails"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-ns"})," \xa0 ",(0,r.jsx)(t.code,{children:"--no-skip=<bool>"})]}),(0,r.jsx)(t.td,{children:"Do not skip test cases marked as skipped with decorators"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-gfl"})," ",(0,r.jsx)(t.code,{children:"--gnu-file-line=<bool>"})]}),(0,r.jsxs)(t.td,{children:["Use ",(0,r.jsx)(t.code,{children:":n:"})," instead of ",(0,r.jsx)(t.code,{children:"(n):"})," for line numbers in output (GNU mode is commonly used for Linux tools/IDEs with ",(0,r.jsx)(t.code,{children:":"})," separators)"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-npf"})," ",(0,r.jsx)(t.code,{children:"--no-path-filenames=<bool>"})]}),(0,r.jsx)(t.td,{children:"When printing file names, the path will be removed from the output \u2013 useful if you want to get identical output from the test framework across different environments"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-nln"})," ",(0,r.jsx)(t.code,{children:"--no-line-numbers=<bool>"})]}),(0,r.jsxs)(t.td,{children:["When printing source locations, line numbers in the output will be replaced with ",(0,r.jsx)(t.code,{children:"0"})," \u2013 useful if you want the test framework to have identical output even if test positions in source files change"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.code,{children:"-ndo"})," ",(0,r.jsx)(t.code,{children:"--no-debug-output=<bool>"})]}),(0,r.jsx)(t.td,{children:"Disable output in the debug console when a debugger is attached"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),(0,r.jsx)(t.td,{})]})]})]}),"\n",(0,r.jsxs)(t.p,{children:["All flags/options also come with prefixed versions (with ",(0,r.jsx)(t.code,{children:"--dt-"})," in front by default) \u2013 for example ",(0,r.jsx)(t.code,{children:"--version"})," can also be used with ",(0,r.jsx)(t.code,{children:"--dt-version"})," or ",(0,r.jsx)(t.code,{children:"--dt-v"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["The default prefix is ",(0,r.jsx)(t.code,{children:"--dt-"}),", but it can be changed by setting the ",(0,r.jsx)(t.a,{href:"/zh-cn/docs/testing/doct/configuration#doctest_config_options_prefix",children:(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"DOCTEST_CONFIG_OPTIONS_PREFIX"})})})," define."]}),"\n",(0,r.jsxs)(t.p,{children:["All unprefixed versions listed here can be disabled using the ",(0,r.jsx)(t.a,{href:"/zh-cn/docs/testing/doct/configuration#doctest_config_no_unprefixed_options",children:(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"DOCTEST_CONFIG_NO_UNPREFIXED_OPTIONS"})})})," define."]}),"\n",(0,r.jsxs)(t.p,{children:["This is done to easily interoperate with client command-line option handling when the test framework is integrated into a client codebase \u2013 all ",(0,r.jsx)(t.strong,{children:"doctest"}),"-related flags/options can be prefixed so no conflicts occur, allowing users to exclude everything starting with ",(0,r.jsx)(t.code,{children:"--dt-"})," from their option parsing."]}),"\n",(0,r.jsxs)(t.p,{children:["If there is no option to exclude things starting with ",(0,r.jsx)(t.code,{children:"--dt-"}),", the ",(0,r.jsx)(t.code,{children:"dt_removed"})," helper class may be useful to filter them out:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-c++",children:'#define DOCTEST_CONFIG_NO_UNPREFIXED_OPTIONS\n#define DOCTEST_CONFIG_IMPLEMENT\n#include "doctest.h"\n\nclass dt_removed {\n    std::vector<const char*> vec;\npublic:\n    dt_removed(const char** argv_in) {\n        for(; *argv_in; ++argv_in)\n            if(strncmp(*argv_in, "--dt-", strlen("--dt-")) != 0)\n                vec.push_back(*argv_in);\n        vec.push_back(NULL);\n    }\n\n    int          argc() { return static_cast<int>(vec.size()) - 1; }\n    const char** argv() { return &vec[0]; } // Note: non-const char **:\n};\n\nint program(int argc, const char** argv);\n\nint main(int argc, const char** argv) {\n    doctest::Context context(argc, argv);\n    int test_result = context.run(); // run queries, or run tests unless --no-run\n\n    if(context.shouldExit()) // honor query flags and --exit\n        return test_result;\n\n    dt_removed args(argv);\n    int app_result = program(args.argc(), args.argv());\n\n    return test_result + app_result; // combine the 2 results\n}\n\nint program(int argc, const char** argv) {\n    printf("Program: %d arguments received:\\n", argc - 1);\n    while(*++argv)\n        printf("\'%s\'\\n", *argv);\n    return EXIT_SUCCESS;\n}\n'})}),"\n",(0,r.jsx)(t.p,{children:"When run like this:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"program.exe --dt-test-case=math* --my-option -s --dt-no-breaks\n"})}),"\n",(0,r.jsx)(t.p,{children:"It will output this:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"Program: 2 arguments received:\n'--my-option'\n'-s'\n"})})]})}function a(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>c,x:()=>d});var n=s(6540);const r={},i=n.createContext(r);function c(e){const t=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);