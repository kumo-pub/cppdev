"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[4235],{551:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"status/status-codes","title":"Standardized Error Codes","description":"The Kumo product is a large-scale system based on the MACH principle, designed with multi-layered APIs. To standardize the returned statuses, we minimize the number of error codes and reduce the complexity of usage.","source":"@site/docs/status/status-codes.mdx","sourceDirName":"status","slug":"/status/status-codes","permalink":"/cppdev/zh-cn/docs/status/status-codes","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/status/status-codes.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Standardized Errors and Error Return Values","permalink":"/cppdev/zh-cn/docs/category/standardized-errors-and-error-return-values"},"next":{"title":"Standardized Return Values","permalink":"/cppdev/zh-cn/docs/status/"}}');var d=t(4848),n=t(8453);const i={},c="Standardized Error Codes",o={},l=[{value:"Error Codes",id:"error-codes",level:2}];function a(e){const r={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.header,{children:(0,d.jsx)(r.h1,{id:"standardized-error-codes",children:"Standardized Error Codes"})}),"\n",(0,d.jsxs)(r.p,{children:["The ",(0,d.jsx)(r.code,{children:"Kumo"})," product is a large-scale system based on the MACH principle, designed with multi-layered APIs. To standardize the returned statuses, we minimize the number of error codes and reduce the complexity of usage."]}),"\n",(0,d.jsxs)(r.p,{children:[(0,d.jsx)(r.code,{children:"Status"})," returns errors using ",(0,d.jsx)(r.code,{children:"turbo::StatusCode"}),", an enumeration type that indicates either no error (",(0,d.jsx)(r.code,{children:"OK"}),") or an error condition."]}),"\n",(0,d.jsx)(r.h2,{id:"error-codes",children:"Error Codes"}),"\n",(0,d.jsx)(r.p,{children:"This is an error code table that you can use to select the appropriate error. Choose the most applicable specific error code."}),"\n",(0,d.jsxs)(r.table,{children:[(0,d.jsx)(r.thead,{children:(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.th,{children:"Condition"}),(0,d.jsx)(r.th,{children:"Error Code"})]})}),(0,d.jsxs)(r.tbody,{children:[(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Request succeeded"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"OK"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Request cancelled, typically by the caller"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"CANCELLED"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Invalid request parameters"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"INVALID_ARGUMENT"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Operation not completed within the specified time limit"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"DEADLINE_EXCEEDED"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"The requested entity does not exist"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"NOT_FOUND"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"The entity being created already exists"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"ALREADY_EXISTS"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"The caller does not have permission to perform the operation"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"PERMISSION_DENIED"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Failed to authenticate the caller"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"UNAUTHENTICATED"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Certain infrastructure resources are exhausted (quota, server capacity, etc.)"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"RESOURCE_EXHAUSTED"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"The system is not in the state required for the operation"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"FAILED_PRECONDITION"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Operation aborted, usually due to concurrency issues (e.g., sequencer check failure, transaction abort, etc.)"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"ABORTED"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Transient error occurred"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"UNAVAILABLE"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"The client has iterated too far and should stop"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"OUT_OF_RANGE"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"The requested operation is not implemented"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"UNIMPLEMENTED"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"A critical internal invariant has been violated (i.e., an error worthy of reporting or escalation)"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"INTERNAL"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Irrecoverable data loss or corruption occurred"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"DATA_LOSS"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Unable to determine a more specific error code"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"UNKNOWN"})})]})]})]}),"\n",(0,d.jsxs)(r.admonition,{type:"info",children:[(0,d.jsxs)(r.p,{children:["Choosing between ",(0,d.jsx)(r.code,{children:"FAILED_PRECONDITION"}),", ",(0,d.jsx)(r.code,{children:"ABORTED"}),", and ",(0,d.jsx)(r.code,{children:"UNAVAILABLE"})," is subtle, especially regarding the retry strategy that callers should adopt. Here are some guidelines that may help service implementers:"]}),(0,d.jsxs)(r.ul,{children:["\n",(0,d.jsxs)(r.li,{children:["Use ",(0,d.jsx)(r.code,{children:"UNAVAILABLE"})," if the client can retry just the failed call."]}),"\n",(0,d.jsxs)(r.li,{children:["Use ",(0,d.jsx)(r.code,{children:"ABORTED"})," if the client should retry at a higher transaction level (e.g., when a client-specified test-and-set fails, indicating that the client should restart a read-modify-write sequence)."]}),"\n",(0,d.jsxs)(r.li,{children:["Use ",(0,d.jsx)(r.code,{children:"FAILED_PRECONDITION"})," if the client should not retry until the system state has been explicitly fixed. For example, if ",(0,d.jsx)(r.code,{children:"rmdir"})," fails because the directory is non-empty, ",(0,d.jsx)(r.code,{children:"FAILED_PRECONDITION"})," should be returned and the client should not retry unless files are removed from the directory."]}),"\n",(0,d.jsxs)(r.li,{children:["Use ",(0,d.jsx)(r.code,{children:"INVALID_ARGUMENT"})," (instead of ",(0,d.jsx)(r.code,{children:"OUT_OF_RANGE"}),") if the input value is never accepted, regardless of the system state. Reserve ",(0,d.jsx)(r.code,{children:"OUT_OF_RANGE"})," for inputs that are out of range only due to the current system state."]}),"\n"]})]})]})}function h(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,d.jsx)(r,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},8453:(e,r,t)=>{t.d(r,{R:()=>i,x:()=>c});var s=t(6540);const d={},n=s.createContext(d);function i(e){const r=s.useContext(n);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:i(e.components),s.createElement(n.Provider,{value:r},e.children)}}}]);