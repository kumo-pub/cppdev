<!doctype html>
<html lang="zh-cn" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-rpc/krpc/flags" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">flags使用 | Kumo Search</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/cppdev/zh-cn/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/cppdev/zh-cn/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/cppdev/zh-cn/docs/rpc/krpc/flags"><meta data-rh="true" property="og:locale" content="zh_cn"><meta data-rh="true" property="og:locale:alternate" content="en_GB"><meta data-rh="true" name="docusaurus_locale" content="zh-cn"><meta data-rh="true" name="docsearch:language" content="zh-cn"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="flags使用 | Kumo Search"><meta data-rh="true" name="description" content="krpc使用gflags管理配置。如果你的程序也使用gflags，那么你应该已经可以修改和krpc相关的flags，你可以浏览flags服务了解每个flag的具体功能。如果你的程序还没有使用gflags，我们建议你使用，原因如下："><meta data-rh="true" property="og:description" content="krpc使用gflags管理配置。如果你的程序也使用gflags，那么你应该已经可以修改和krpc相关的flags，你可以浏览flags服务了解每个flag的具体功能。如果你的程序还没有使用gflags，我们建议你使用，原因如下："><link data-rh="true" rel="icon" href="/cppdev/zh-cn/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/cppdev/zh-cn/docs/rpc/krpc/flags"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/cppdev/docs/rpc/krpc/flags" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/cppdev/zh-cn/docs/rpc/krpc/flags" hreflang="zh-cn"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/cppdev/docs/rpc/krpc/flags" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"rpc远程调用","item":"https://your-docusaurus-site.example.com/cppdev/zh-cn/docs/rpc/"},{"@type":"ListItem","position":2,"name":"krpc","item":"https://your-docusaurus-site.example.com/cppdev/zh-cn/docs/category/krpc"},{"@type":"ListItem","position":3,"name":"flags使用","item":"https://your-docusaurus-site.example.com/cppdev/zh-cn/docs/rpc/krpc/flags"}]}</script><link rel="alternate" type="application/rss+xml" href="/cppdev/zh-cn/blog/rss.xml" title="Kumo Search RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/cppdev/zh-cn/blog/atom.xml" title="Kumo Search Atom Feed"><link rel="stylesheet" href="/cppdev/zh-cn/assets/css/styles.582e0043.css">
<script src="/cppdev/zh-cn/assets/js/runtime~main.ab755061.js" defer="defer"></script>
<script src="/cppdev/zh-cn/assets/js/main.0dd454fe.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/cppdev/zh-cn/img/kumo-logo.svg"><link rel="preload" as="image" href="/cppdev/zh-cn/assets/images/reloadable_flags-e3b8f36b0f74f17d0bedfce2e1631ecd.png"><link rel="preload" as="image" href="/cppdev/zh-cn/assets/images/flag_setvalue-4432a5a6a855a5d5f9aecb94851bf359.png"><link rel="preload" as="image" href="/cppdev/zh-cn/assets/images/set_flag_reject-bba5a9096875b742ee01a3d4af273247.png"><link rel="preload" as="image" href="/cppdev/zh-cn/assets/images/set_flag_invalid_value-9f169d65a105fbb2136bbd23602b94e2.png"><link rel="preload" as="image" href="/cppdev/zh-cn/assets/images/set_flag_with_form-e240be5558e3a702cd7d3a20e6652e52.png"><link rel="preload" as="image" href="/cppdev/zh-cn/assets/images/set_flag_with_form_2-359eb8daf58d3da38aa77a4922bb7543.png"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cppdev/zh-cn/"><div class="navbar__logo"><img src="/cppdev/zh-cn/img/kumo-logo.svg" alt="Kumo logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/cppdev/zh-cn/img/kumo-logo.svg" alt="Kumo logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">开发导论</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cppdev/zh-cn/docs/intro">教程</a><a class="navbar__item navbar__link" href="/cppdev/zh-cn/docs/integration/overview">集成</a><a class="navbar__item navbar__link" href="/cppdev/zh-cn/blog">博客</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/kumose" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>中文（中国）</a><ul class="dropdown__menu"><li><a href="/cppdev/docs/rpc/krpc/flags" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-GB">English</a></li><li><a href="/cppdev/zh-cn/docs/rpc/krpc/flags" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-cn">中文（中国）</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="切换浅色/暗黑模式（当前为system mode）"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cppdev/zh-cn/docs/intro"><span title="概览" class="linkLabel_WmDU">概览</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/cppdev/zh-cn/docs/category/foundamentals"><span title="基础开发" class="categoryLinkLabel_W154">基础开发</span></a><button aria-label="展开侧边栏分类 &#x27;基础开发&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/cppdev/zh-cn/docs/rpc/"><span title="rpc远程调用" class="categoryLinkLabel_W154">rpc远程调用</span></a><button aria-label="折叠侧边栏分类 &#x27;rpc远程调用&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/grpc"><span title="gRPC" class="linkLabel_WmDU">gRPC</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/brpc"><span title="BRPC" class="linkLabel_WmDU">BRPC</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/acl"><span title="ACL 库概览" class="linkLabel_WmDU">ACL 库概览</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/httplib"><span title="cpp-httplib" class="linkLabel_WmDU">cpp-httplib</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/cppdev/zh-cn/docs/category/krpc"><span title="krpc" class="categoryLinkLabel_W154">krpc</span></a><button aria-label="折叠侧边栏分类 &#x27;krpc&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/getting_started"><span title="使用krpc" class="linkLabel_WmDU">使用krpc</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/server"><span title="服务开发" class="linkLabel_WmDU">服务开发</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/http_service"><span title="http服务" class="linkLabel_WmDU">http服务</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/thrift"><span title="Thrift服务" class="linkLabel_WmDU">Thrift服务</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/cpu_profiler"><span title="CPU使用分析" class="linkLabel_WmDU">CPU使用分析</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/heap_profiler"><span title="堆栈分析" class="linkLabel_WmDU">堆栈分析</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/contention_profiler"><span title="竞态分析" class="linkLabel_WmDU">竞态分析</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/dummy_server"><span title="server dummy" class="linkLabel_WmDU">server dummy</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/rpcz"><span title="rpc追踪" class="linkLabel_WmDU">rpc追踪</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/thread_local"><span title="thread local" class="linkLabel_WmDU">thread local</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/json2pb"><span title="json和protobuf转换" class="linkLabel_WmDU">json和protobuf转换</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/threading_overview"><span title="常见线程模型" class="linkLabel_WmDU">常见线程模型</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/atomic_instructions"><span title="atomic使用" class="linkLabel_WmDU">atomic使用</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/flags"><span title="flags使用" class="linkLabel_WmDU">flags使用</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/io"><span title="IO详解" class="linkLabel_WmDU">IO详解</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/streaming_rpc"><span title="流式rpc" class="linkLabel_WmDU">流式rpc</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/endpoint"><span title="EndPoint工具类" class="linkLabel_WmDU">EndPoint工具类</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/kumo_std"><span title="kumo标准协议" class="linkLabel_WmDU">kumo标准协议</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/client"><span title="客户端服务" class="linkLabel_WmDU">客户端服务</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/circuit_breaker"><span title="熔断功能" class="linkLabel_WmDU">熔断功能</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/connections"><span title="connections服务" class="linkLabel_WmDU">connections服务</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/lalb"><span title="lalb调度" class="linkLabel_WmDU">lalb调度</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/consistent_hashing"><span title="一致性hash" class="linkLabel_WmDU">一致性hash</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/http_client"><span title="http客户端" class="linkLabel_WmDU">http客户端</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/http_derivatives"><span title="http延展阅读" class="linkLabel_WmDU">http延展阅读</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/combo_channel"><span title="服务治理" class="linkLabel_WmDU">服务治理</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/memcache_client"><span title="memcached客户端" class="linkLabel_WmDU">memcached客户端</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/redis_client"><span title="redis支持" class="linkLabel_WmDU">redis支持</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/auto_concurrency_limiter"><span title="自适应限流" class="linkLabel_WmDU">自适应限流</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/zh-cn/docs/rpc/krpc/server_debugging"><span title="rpc调试" class="linkLabel_WmDU">rpc调试</span></a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/cppdev/zh-cn/docs/retrieve/"><span title="检索开发" class="categoryLinkLabel_W154">检索开发</span></a><button aria-label="展开侧边栏分类 &#x27;检索开发&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/cppdev/zh-cn/docs/store/"><span title="存储" class="categoryLinkLabel_W154">存储</span></a><button aria-label="展开侧边栏分类 &#x27;存储&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/cppdev/zh-cn/docs/ir/"><span title="IR" class="categoryLinkLabel_W154">IR</span></a><button aria-label="展开侧边栏分类 &#x27;IR&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/cppdev/zh-cn/docs/advance/"><span title="进阶开发" class="categoryLinkLabel_W154">进阶开发</span></a><button aria-label="展开侧边栏分类 &#x27;进阶开发&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/cppdev/zh-cn/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/cppdev/zh-cn/docs/rpc/"><span>rpc远程调用</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/cppdev/zh-cn/docs/category/krpc"><span>krpc</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">flags使用</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>flags使用</h1></header>
<p>krpc使用gflags管理配置。如果你的程序也使用gflags，那么你应该已经可以修改和krpc相关的flags，你可以浏览flags服务了解每个flag的具体功能。如果你的程序还没有使用gflags，我们建议你使用，原因如下：</p>
<ul>
<li class="">命令行和文件均可传入，前者方便做测试，后者适合线上运维。放在文件中的gflags可以reload。而configure只支持从文件读取配置。</li>
<li class="">你可以在浏览器中查看krpc服务器中所有gflags，并对其动态修改（如果允许的话）。configure不可能做到这点。</li>
<li class="">gflags分散在和其作用紧密关联的文件中，更好管理。而使用configure需要聚集到一个庞大的读取函数中。</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="usage-of-gflags">Usage of gflags<a href="#usage-of-gflags" class="hash-link" aria-label="Usage of gflags的直接链接" title="Usage of gflags的直接链接" translate="no">​</a></h2>
<p>gflags一般定义在需要它的源文件中。<code>#include &lt;gflags/gflags.h&gt;</code>后在全局scope加入<code>DEFINE_*\&lt;type\&gt;*(*\&lt;name\&gt;*, *\&lt;default-value\&gt;*, *\&lt;description\&gt;*);</code> 比如：</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;gflags/gflags.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEFINE_bool(hex_log_id, false, &quot;Show log_id in hexadecimal&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEFINE_int32(health_check_interval, 3, &quot;seconds between consecutive health-checkings&quot;);</span><br></span></code></pre></div></div>
<p>一般在main函数开头用ParseCommandLineFlags处理程序参数：</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;gflags/gflags.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main(int argc, char* argv[]) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    google::ParseCommandLineFlags(&amp;argc, &amp;argv, true/*表示把识别的参数从argc/argv中删除*/);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>如果要从conf/gflags.conf中加载gflags，则可以加上参数-flagfile=conf/gflags.conf。如果希望默认（什么参数都不加）就从文件中读取，则可以在程序中直接给flagfile赋值，一般这么写</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">google::SetCommandLineOption(&quot;flagfile&quot;, &quot;conf/gflags.conf&quot;);</span><br></span></code></pre></div></div>
<p>程序启动时会检查conf/gflags.conf是否存在，如果不存在则会报错：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./my_program</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">conf/gflags.conf: No such file or directory</span><br></span></code></pre></div></div>
<p>更具体的使用指南请阅读<a href="http://gflags.github.io/gflags/" target="_blank" rel="noopener noreferrer" class="">官方文档</a>。</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="flagfile">flagfile<a href="#flagfile" class="hash-link" aria-label="flagfile的直接链接" title="flagfile的直接链接" translate="no">​</a></h2>
<p>在命令行中参数和值之间可不加等号，而在flagfile中一定要加。比如<code>./myapp -param 7</code>是ok的，但在<code>./myapp -flagfile=./gflags.conf</code>对应的gflags.conf中一定要写成 <strong>-param=7</strong> 或 <strong>--param=7</strong>，否则就不正确且不会报错。</p>
<p>在命令行中字符串可用单引号或双引号包围，而在flagfile中不能加。比如<code>./myapp -name=&quot;tom&quot;</code>或<code>./myapp -name=&#x27;tom&#x27;</code>都是ok的，但在<code>./myapp -flagfile=./gflags.conf</code>对应的gflags.conf中一定要写成 <strong>-name=tom</strong> 或 <strong>--name=tom</strong>，如果写成-name=&quot;tom&quot;的话，引号也会作为值的一部分。配置文件中的值可以有空格，比如gflags.conf中写成-name=value with spaces是ok的，参数name的值就是value with spaces，而在命令行中要用引号括起来。</p>
<p>flagfile中参数可由单横线(如-foo)或双横线(如--foo)打头，但不能以三横线或更多横线打头，否则的话是无效参数且不会报错!</p>
<p>flagfile中以<code>#开头的行被认为是注释。开头的空格和空白行都会被忽略。</code></p>
<p>flagfile中可以使用<code>--flagfile包含另一个flagfile。</code></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="change-gflag-on-the-fly">Change gflag on-the-fly<a href="#change-gflag-on-the-fly" class="hash-link" aria-label="Change gflag on-the-fly的直接链接" title="Change gflag on-the-fly的直接链接" translate="no">​</a></h2>
<p><a href="http://krpc.baidu.com:8765/flags" target="_blank" rel="noopener noreferrer" class="">flags服务</a>可以查看服务器进程中所有的gflags。修改过的flags会以红色高亮。“修改过”指的是修改这一行为，即使再改回默认值，仍然会显示为红色。</p>
<p>/flags：列出所有的gflags</p>
<p>/flags/NAME：查询名字为NAME的gflag</p>
<p>/flags/NAME1,NAME2,NAME3：查询名字为NAME1或NAME2或NAME3的gflag</p>
<p>/flags/foo*,b$r：查询名字与某一统配符匹配的gflag，注意用$代替?匹配单个字符，因为?在url中有特殊含义。</p>
<p>访问/flags/NAME?setvalue=VALUE即可动态修改一个gflag的值，validator会被调用。</p>
<p>为了防止误修改，需要动态修改的gflag必须有validator，显示此类gflag名字时有(R)后缀。</p>
<!-- -->
<img src="/cppdev/zh-cn/assets/images/reloadable_flags-e3b8f36b0f74f17d0bedfce2e1631ecd.png">
<p><em>修改成功后会显示如下信息</em>：</p>
<!-- -->
<img src="/cppdev/zh-cn/assets/images/flag_setvalue-4432a5a6a855a5d5f9aecb94851bf359.png">
<p><em>尝试修改不允许修改的gflag会显示如下错误信息</em>：</p>
<!-- -->
<img src="/cppdev/zh-cn/assets/images/set_flag_reject-bba5a9096875b742ee01a3d4af273247.png">
<p><em>设置一个不允许的值会显示如下错误（flag值不会变化）</em>：</p>
<!-- -->
<img src="/cppdev/zh-cn/assets/images/set_flag_invalid_value-9f169d65a105fbb2136bbd23602b94e2.png">
<p>r31658之后支持可视化地修改，在浏览器上访问时将看到(R)下多了下划线：</p>
<!-- -->
<img src="data:image/png;base64,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">
<p>点击后在一个独立页面可视化地修改对应的flag：</p>
<!-- -->
<img src="/cppdev/zh-cn/assets/images/set_flag_with_form-e240be5558e3a702cd7d3a20e6652e52.png">
<p>填入true后确定：</p>
<!-- -->
<img src="/cppdev/zh-cn/assets/images/set_flag_with_form_2-359eb8daf58d3da38aa77a4922bb7543.png">
<p>返回/flags可以看到对应的flag已经被修改了：</p>
<!-- -->
<img src="data:image/png;base64,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">
<p>关于重载gflags，重点关注：</p>
<ul>
<li class="">避免在一段代码中多次调用同一个gflag，应把该gflag的值保存下来并调用该值。因为gflag的值随时可能变化，而产生意想不到的结果。</li>
<li class="">使用google::GetCommandLineOption()访问string类型的gflag，直接访问是线程不安全的。</li>
<li class="">处理逻辑和副作用应放到validator里去。比如修改FLAGS_foo后得更新另一处的值，如果只是写在程序初始化的地方，而不是validator里，那么重载时这段逻辑就运行不到了。</li>
</ul>
<p>如果你确认某个gflag不需要额外的线程同步和处理逻辑就可以重载，那么可以用如下方式为其注册一个总是返回true的validator：</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DEFINE_bool(hex_log_id, false, &quot;Show log_id in hexadecimal&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">KRPC_VALIDATE_GFLAG(hex_log_id, krpc::PassValidate/*always true*/);</span><br></span></code></pre></div></div>
<p>这个flag是单纯的开关，修改后不需要更新其他数据（没有处理逻辑），代码中前面看到true后面看到false也不会产生什么后果（不需要线程同步），所以我们让其默认可重载。</p>
<p>对于int32和int64类型，有一个判断是否为正数的常用validator：</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DEFINE_int32(health_check_interval, 3, &quot;seconds between consecutive health-checkings&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">KRPC_VALIDATE_GFLAG(health_check_interval, krpc::PositiveInteger);</span><br></span></code></pre></div></div>
<p>以上操作都可以在命令行中进行：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ curl krpc.baidu.com:8765/flags/health_check_interval</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Name | Value | Description | Defined At</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">health_check_interval (R) | 3 | seconds between consecutive health-checkings | src/krpc/socket_map.cpp</span><br></span></code></pre></div></div>
<p>1.0.251.32399后增加了-immutable_flags，打开后所有的gflags将不能被动态修改。当一个服务对某个gflag值比较敏感且不希望在线上被误改，可打开这个开关。打开这个开关的同时也意味着你无法动态修改线上的配置，每次修改都要重启程序，对于还在调试阶段或待收敛阶段的程序不建议打开。</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/cppdev/zh-cn/docs/rpc/krpc/atomic_instructions"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">atomic使用</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cppdev/zh-cn/docs/rpc/krpc/io"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">IO详解</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#usage-of-gflags" class="table-of-contents__link toc-highlight">Usage of gflags</a></li><li><a href="#flagfile" class="table-of-contents__link toc-highlight">flagfile</a></li><li><a href="#change-gflag-on-the-fly" class="table-of-contents__link toc-highlight">Change gflag on-the-fly</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cppdev/zh-cn/docs/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/jefflothar" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cppdev/zh-cn/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/kumo-pub" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Kumo, Inc.</div></div></div></footer></div>
</body>
</html>