"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[446],{4078:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"store/cloud/gcs","title":"Google Cloud Storage Integration","description":"This document describes how to integrate Google Cloud Storage (GCS) into a Kumo deployment.","source":"@site/docs/store/cloud/gcs.mdx","sourceDirName":"store/cloud","slug":"/store/cloud/gcs","permalink":"/cppdev/docs/store/cloud/gcs","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Google Cloud Storage Integration"},"sidebar":"tutorialSidebar","previous":{"title":"Azure Integration","permalink":"/cppdev/docs/store/cloud/azure"},"next":{"title":"HDFS Integration","permalink":"/cppdev/docs/store/cloud/hdfs"}}');var t=s(4848),r=s(8453);const i={title:"Google Cloud Storage Integration"},l="Google Cloud Storage (GCS) Integration with Kumo Stack",c={},a=[{value:"1. Supported GCS Component via <code>kmpkg</code>",id:"1-supported-gcs-component-via-kmpkg",level:2},{value:"2. Integration Patterns",id:"2-integration-patterns",level:2},{value:"2.1 KV Backup to GCS",id:"21-kv-backup-to-gcs",level:3},{value:"2.2 Operational Notes",id:"22-operational-notes",level:3},{value:"3. KV Layer Backup Strategy",id:"3-kv-layer-backup-strategy",level:2},{value:"4. Example Workflow",id:"4-example-workflow",level:2},{value:"5. Summary",id:"5-summary",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"google-cloud-storage-gcs-integration-with-kumo-stack",children:"Google Cloud Storage (GCS) Integration with Kumo Stack"})}),"\n",(0,t.jsxs)(n.p,{children:["This document describes ",(0,t.jsx)(n.strong,{children:"how to integrate Google Cloud Storage (GCS) into a Kumo deployment"}),".\nFocus is ",(0,t.jsx)(n.strong,{children:"practical integration and operational guidance"}),", not recommending GCS over other clouds."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h2,{id:"1-supported-gcs-component-via-kmpkg",children:["1. Supported GCS Component via ",(0,t.jsx)(n.code,{children:"kmpkg"})]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Package"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"google-cloud-cpp[storage-grpc]"}),(0,t.jsx)(n.td,{children:"GCS SDK using gRPC transport. Provides upload/download of objects and bucket management."})]})})]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["Currently, this is the only supported GCS library in Kumo\u2019s package manager. It is sufficient for ",(0,t.jsx)(n.strong,{children:"KV backup, snapshot storage, and operational integration"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"2-integration-patterns",children:"2. Integration Patterns"}),"\n",(0,t.jsx)(n.h3,{id:"21-kv-backup-to-gcs",children:"2.1 KV Backup to GCS"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Use Cases:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Store RocksDB SST files or snapshots."}),"\n",(0,t.jsx)(n.li,{children:"Long-term retention and disaster recovery."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Best Practices:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Prefer ",(0,t.jsx)(n.strong,{children:"single SST file uploads"})," to simplify restores."]}),"\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.strong,{children:"bucket prefixes"})," to organize backups by environment/date:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\nkv-backups/\n\u2514\u2500 rocksdb/\n\u2514\u2500 2026-01-04/\n\u251c\u2500 cf_default-00001.sst\n\u2514\u2500 cf_default-00002.sst\n\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"C++ Example: Upload SST to GCS"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:'#include "google/cloud/storage/client.h"\n\nnamespace gcs = google::cloud::storage;\n\nauto client = gcs::Client::CreateDefaultClient().value();\n\nclient.UploadFile("snapshot.sst", "my-kumo-backups", "rocksdb-snapshot-20260104.sst");\n'})}),"\n",(0,t.jsx)(n.h3,{id:"22-operational-notes",children:"2.2 Operational Notes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Throughput:"})," Use multiple concurrent uploads to optimize large snapshot upload times."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Prefix Organization:"})," Helps prevent hot-spotting in GCS buckets for very large numbers of objects."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Consistency:"})," GCS offers ",(0,t.jsx)(n.strong,{children:"strong read-after-write consistency"})," for new objects."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Restore:"})," Always verify snapshot restore on staging environment."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"3-kv-layer-backup-strategy",children:"3. KV Layer Backup Strategy"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"RocksDB Snapshots:"})," Lightweight consistent views for SST upload."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Checkpoint API:"})," Copy full directory and upload as single or multiple SST files."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Column Families:"})," Minimize CFs to simplify backup/restore."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"4-example-workflow",children:"4. Example Workflow"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Take RocksDB snapshot via ",(0,t.jsx)(n.code,{children:"rocksdb::DB::GetSnapshot()"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Flush required column families."}),"\n",(0,t.jsx)(n.li,{children:"Save SST files locally."}),"\n",(0,t.jsxs)(n.li,{children:["Upload SST files to GCS bucket using ",(0,t.jsx)(n.code,{children:"google-cloud-cpp[storage-grpc]"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Optionally trigger a cloud function to validate snapshot or notify downstream systems."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"5-summary",children:"5. Summary"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Kumo GCS integration focuses on ",(0,t.jsx)(n.strong,{children:"operational-first design"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.strong,{children:"single SST uploads, organized bucket prefixes"}),", and ",(0,t.jsx)(n.strong,{children:"minimal CFs"})," for maintainable backups."]}),"\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.code,{children:"google-cloud-cpp[storage-grpc]"})," plugin is sufficient for KV backup and snapshot workflows."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>l});var o=s(6540);const t={},r=o.createContext(t);function i(e){const n=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);