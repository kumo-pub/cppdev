"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[3068],{6975:(e,l,i)=>{i.r(l),i.d(l,{assets:()=>t,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"log/flags","title":"Configure Logging","description":"Several flags affect the output behavior of log.","source":"@site/docs/log/flags.mdx","sourceDirName":"log","slug":"/log/flags","permalink":"/docs/log/flags","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/log/flags.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Built-in LogSink Receivers","permalink":"/docs/log/builtin_sinks"},"next":{"title":"Time and Calendar","permalink":"/docs/time/"}}');var s=i(4848),o=i(8453);const r={},d="Configure Logging",t={},c=[{value:"Configure Log Output Using <code>Flags</code>",id:"configure-log-output-using-flags",level:2},{value:"<code>stderr_threshold</code>",id:"stderr_threshold",level:3},{value:"<code>min_log_level</code>",id:"min_log_level",level:3},{value:"<code>log_with_prefix</code>",id:"log_with_prefix",level:3},{value:"<code>verbosity</code>",id:"verbosity",level:3},{value:"<code>vlog_module</code>",id:"vlog_module",level:3},{value:"<code>backtrace_log_at</code>",id:"backtrace_log_at",level:3},{value:"<code>log_type</code>",id:"log_type",level:3},{value:"Modify Flags Programmatically",id:"modify-flags-programmatically",level:2}];function a(e){const l={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.header,{children:(0,s.jsx)(l.h1,{id:"configure-logging",children:"Configure Logging"})}),"\n",(0,s.jsxs)(l.p,{children:["Several flags affect the output behavior of ",(0,s.jsx)(l.code,{children:"log"}),"."]}),"\n",(0,s.jsxs)(l.h2,{id:"configure-log-output-using-flags",children:["Configure Log Output Using ",(0,s.jsx)(l.code,{children:"Flags"})]}),"\n",(0,s.jsx)(l.p,{children:"The following flags are the most commonly used:"}),"\n",(0,s.jsxs)(l.p,{children:[(0,s.jsx)(l.code,{children:"logtostderr"})," (",(0,s.jsx)(l.code,{children:"bool"}),", default=",(0,s.jsx)(l.code,{children:"false"}),")"]}),"\n",(0,s.jsxs)(l.p,{children:[":   Log messages to ",(0,s.jsx)(l.code,{children:"stderr"})," instead of logfiles."]}),"\n",(0,s.jsx)(l.h3,{id:"stderr_threshold",children:(0,s.jsx)(l.code,{children:"stderr_threshold"})}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["Type: ",(0,s.jsx)(l.code,{children:"int"}),", default = 2 (i.e., ",(0,s.jsx)(l.code,{children:"ERROR"}),").\nCopy log messages at or above this level to ",(0,s.jsx)(l.code,{children:"stderr"})," in addition to log files. The numeric values for log levels ",(0,s.jsx)(l.code,{children:"INFO"}),", ",(0,s.jsx)(l.code,{children:"WARNING"}),", ",(0,s.jsx)(l.code,{children:"ERROR"}),", and ",(0,s.jsx)(l.code,{children:"FATAL"})," are 0, 1, 2, and 3 respectively."]}),"\n",(0,s.jsx)(l.li,{children:"Supports dynamic update."}),"\n"]}),"\n",(0,s.jsx)(l.h3,{id:"min_log_level",children:(0,s.jsx)(l.code,{children:"min_log_level"})}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["Type: ",(0,s.jsx)(l.code,{children:"int"}),", default = 0 (i.e., ",(0,s.jsx)(l.code,{children:"INFO"}),")."]}),"\n",(0,s.jsxs)(l.li,{children:["Log messages at or above this level. Again, the numeric values for log levels ",(0,s.jsx)(l.code,{children:"INFO"}),", ",(0,s.jsx)(l.code,{children:"WARNING"}),", ",(0,s.jsx)(l.code,{children:"ERROR"}),", and ",(0,s.jsx)(l.code,{children:"FATAL"})," are 0, 1, 2, and 3 respectively."]}),"\n",(0,s.jsx)(l.li,{children:"Supports dynamic update."}),"\n"]}),"\n",(0,s.jsx)(l.h3,{id:"log_with_prefix",children:(0,s.jsx)(l.code,{children:"log_with_prefix"})}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["Type: ",(0,s.jsx)(l.code,{children:"bool"}),", default = true."]}),"\n",(0,s.jsx)(l.li,{children:"Add a log prefix to the beginning of each log line."}),"\n",(0,s.jsx)(l.li,{children:"Supports dynamic update."}),"\n"]}),"\n",(0,s.jsx)(l.h3,{id:"verbosity",children:(0,s.jsx)(l.code,{children:"verbosity"})}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["Type: ",(0,s.jsx)(l.code,{children:"int"}),", default = 0 (i.e., ",(0,s.jsx)(l.strong,{children:"no verbose logs output"}),")."]}),"\n",(0,s.jsxs)(l.li,{children:["Display all ",(0,s.jsx)(l.code,{children:"VKLOG(m)"})," messages where ",(0,s.jsx)(l.code,{children:"m <= this value"}),". May be overridden by ",(0,s.jsx)(l.code,{children:"vlog_module"}),"."]}),"\n",(0,s.jsx)(l.li,{children:"Supports dynamic update."}),"\n"]}),"\n",(0,s.jsx)(l.h3,{id:"vlog_module",children:(0,s.jsx)(l.code,{children:"vlog_module"})}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["Type: ",(0,s.jsx)(l.code,{children:"string"}),', default = "" (i.e., ',(0,s.jsx)(l.strong,{children:"no verbose logs output"}),")."]}),"\n",(0,s.jsxs)(l.li,{children:["Per-module log verbosity level. The parameter is a comma-separated list of ",(0,s.jsx)(l.code,{children:"<module name>=<log level>"}),". ",(0,s.jsx)(l.code,{children:"<module name>"})," is a glob pattern that matches against the filename base (i.e., the name with ",(0,s.jsx)(l.code,{children:".cc/.h/.-inl.h"})," stripped).\nPatterns without slashes match only the filename part; otherwise, they match the entire file path relative to the workspace root (still with ",(0,s.jsx)(l.code,{children:".cc/.h/.-inl.h"})," stripped). ",(0,s.jsx)(l.code,{children:"?"})," and ",(0,s.jsx)(l.code,{children:"*"})," in the glob pattern match any single character or sequence of characters (including slashes) respectively. ",(0,s.jsx)(l.code,{children:"<log level>"})," overrides any value given by ",(0,s.jsx)(l.code,{children:"--verbosity"}),"."]}),"\n"]}),"\n",(0,s.jsx)(l.h3,{id:"backtrace_log_at",children:(0,s.jsx)(l.code,{children:"backtrace_log_at"})}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["Type: ",(0,s.jsx)(l.code,{children:"string"}),', default = "" (i.e., ',(0,s.jsx)(l.strong,{children:"no stack trace logs output"}),")."]}),"\n",(0,s.jsxs)(l.li,{children:["Print a stack trace when logging is triggered at ",(0,s.jsx)(l.code,{children:"file:linenum"}),"."]}),"\n",(0,s.jsx)(l.li,{children:"Supports dynamic update."}),"\n"]}),"\n",(0,s.jsx)(l.h3,{id:"log_type",children:(0,s.jsx)(l.code,{children:"log_type"})}),"\n",(0,s.jsx)(l.p,{children:"Parameter used during log initialization."}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["Type: ",(0,s.jsx)(l.code,{children:"int"}),", default = 0."]}),"\n",(0,s.jsxs)(l.li,{children:["Log type corresponding to LogSinkType:","\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsx)(l.li,{children:"0: Console log"}),"\n",(0,s.jsx)(l.li,{children:"1: Daily log file"}),"\n",(0,s.jsx)(l.li,{children:"2: Hourly log file"}),"\n",(0,s.jsx)(l.li,{children:"3: Rotating log file"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.strong,{children:"Does not support dynamic update"}),"."]}),"\n"]}),"\n",(0,s.jsx)(l.h2,{id:"modify-flags-programmatically",children:"Modify Flags Programmatically"}),"\n",(0,s.jsxs)(l.p,{children:["You can also modify flag values within the program by updating global variables ",(0,s.jsx)(l.code,{children:"FLAGS_*"}),". Most settings take effect immediately after updating ",(0,s.jsx)(l.code,{children:"FLAGS_*"}),",\nexcept for flags related to target files."]}),"\n",(0,s.jsx)(l.p,{children:'!!! Example: "Set Log Level at Runtime"'}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-cpp",children:'KLOG(INFO) << "file";\n// Most flags work immediately after updating values.\nturbo::set_flag(&FLAGS_min_log_level,static_cast<int>(turbo::LogSeverity::kWarning));\nKLOG(INFO) << "should not display";\nturbo::set_flag(&FLAGS_min_log_level,static_cast<int>(turbo::LogSeverity::kInfo));\nKLOG(INFO) << "should display";\n'})})]})}function h(e={}){const{wrapper:l}={...(0,o.R)(),...e.components};return l?(0,s.jsx)(l,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,l,i)=>{i.d(l,{R:()=>r,x:()=>d});var n=i(6540);const s={},o=n.createContext(s);function r(e){const l=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(l):{...l,...e}},[l,e])}function d(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),n.createElement(o.Provider,{value:l},e.children)}}}]);