"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[5191],{4953:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"foundamentals/json/features","title":"Features","description":"Overall","source":"@site/docs/foundamentals/json/features.mdx","sourceDirName":"foundamentals/json","slug":"/foundamentals/json/features","permalink":"/cppdev/docs/foundamentals/json/features","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"merak json","permalink":"/cppdev/docs/foundamentals/json/overview"},"next":{"title":"Tutorial","permalink":"/cppdev/docs/foundamentals/json/tutorial"}}');var r=s(4848),l=s(8453);const t={},c="Features",o={},d=[{value:"Overall",id:"overall",level:2},{value:"Standard Compliance",id:"standard-compliance",level:2},{value:"Unicode",id:"unicode",level:2},{value:"API Styles",id:"api-styles",level:2},{value:"Parsing",id:"parsing",level:2},{value:"DOM (Document)",id:"dom-document",level:2},{value:"Generation",id:"generation",level:2},{value:"Input/Output Streams",id:"inputoutput-streams",level:2},{value:"Memory",id:"memory",level:2},{value:"Others",id:"others",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"features",children:"Features"})}),"\n",(0,r.jsx)(n.h2,{id:"overall",children:"Overall"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Cross-platform","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Compilers: Visual Studio, GCC, Clang, etc."}),"\n",(0,r.jsx)(n.li,{children:"Architectures: x86, x64, ARM, etc."}),"\n",(0,r.jsx)(n.li,{children:"Operating Systems: Windows, Mac OS X, Linux, iOS, Android, etc."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Easy to install","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Header-only library. Simply copy the header files to your project."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Self-contained with minimal dependencies","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"No reliance on STL, BOOST, or other libraries."}),"\n",(0,r.jsxs)(n.li,{children:["Only depends on ",(0,r.jsx)(n.code,{children:"<cstdio>"}),", ",(0,r.jsx)(n.code,{children:"<cstdlib>"}),", ",(0,r.jsx)(n.code,{children:"<cstring>"}),", ",(0,r.jsx)(n.code,{children:"<inttypes.h>"}),", ",(0,r.jsx)(n.code,{children:"<new>"}),", ",(0,r.jsx)(n.code,{children:"<stdint.h>"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"No use of C++ exceptions or RTTI"}),"\n",(0,r.jsxs)(n.li,{children:["High performance","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Uses templates and inline functions to reduce function call overhead."}),"\n",(0,r.jsx)(n.li,{children:"Internally optimized Grisu2 and floating-point parsing implementations."}),"\n",(0,r.jsx)(n.li,{children:"Optional SSE2/SSE4.2 support."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"standard-compliance",children:"Standard Compliance"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Merak is fully compliant with the RFC4627/ECMA-404 standards."}),"\n",(0,r.jsx)(n.li,{children:"Supports JSON Pointer (RFC6901)."}),"\n",(0,r.jsx)(n.li,{children:"Supports JSON Schema Draft v4."}),"\n",(0,r.jsx)(n.li,{children:"Supports Unicode surrogate pairs."}),"\n",(0,r.jsxs)(n.li,{children:["Supports null characters (",(0,r.jsx)(n.code,{children:'"\\u0000"'}),")","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["For example, it can elegantly parse and handle ",(0,r.jsx)(n.code,{children:'["Hello\\u0000World"]'}),". Provides APIs to read/write string lengths."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Supports optional relaxed syntax","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Single-line (",(0,r.jsx)(n.code,{children:"// ..."}),") and multi-line (",(0,r.jsx)(n.code,{children:"/* ... */"}),") comments (",(0,r.jsx)(n.code,{children:"kParseCommentsFlag"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:["Trailing commas before the end of objects and arrays (",(0,r.jsx)(n.code,{children:"kParseTrailingCommasFlag"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"NaN"}),", ",(0,r.jsx)(n.code,{children:"Inf"}),", ",(0,r.jsx)(n.code,{children:"Infinity"}),", ",(0,r.jsx)(n.code,{children:"-Inf"}),", and ",(0,r.jsx)(n.code,{children:"-Infinity"})," as ",(0,r.jsx)(n.code,{children:"double"})," values (",(0,r.jsx)(n.code,{children:"kParseNanAndInfFlag"}),")."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/kumose/merak/blob/master/doc/npm.md",children:"NPM compatible"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"unicode",children:"Unicode"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Supports UTF-8, UTF-16, and UTF-32 encodings (including little-endian and big-endian).","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"These encodings are used for input/output streams and in-memory representation."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Supports automatic encoding detection from input streams."}),"\n",(0,r.jsxs)(n.li,{children:["Built-in support for encoding transcoding.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"For example, you can read a UTF-8 file and have Merak transcode JSON strings to a UTF-16 DOM."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Built-in support for encoding validation.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"For example, you can read a UTF-8 file and have Merak check if all JSON strings are valid UTF-8 byte sequences."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Supports custom character types.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Default character types: ",(0,r.jsx)(n.code,{children:"char"})," for UTF-8, ",(0,r.jsx)(n.code,{children:"wchar_t"})," for UTF-16, ",(0,r.jsx)(n.code,{children:"uint32_t"})," for UTF-32."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Supports custom encodings."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"api-styles",children:"API Styles"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["SAX (Simple API for XML)-style API","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Similar to ",(0,r.jsx)(n.a,{href:"http://en.wikipedia.org/wiki/Simple_API_for_XML",children:"SAX"}),", Merak provides an event-based sequential access parser API (",(0,r.jsx)(n.code,{children:"merak::json::GenericReader"}),"). Merak also offers a generator API (",(0,r.jsx)(n.code,{children:"merak::json::Writer"}),") that processes the same set of events."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["DOM (Document Object Model)-style API","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Similar to the ",(0,r.jsx)(n.a,{href:"http://en.wikipedia.org/wiki/Document_Object_Model",children:"DOM"})," for HTML/XML, Merak can parse JSON into a DOM representation (",(0,r.jsx)(n.code,{children:"merak::json::GenericDocument"}),") for easy manipulation. The DOM can be converted (stringified) back to JSON if needed."]}),"\n",(0,r.jsxs)(n.li,{children:["The DOM-style API (",(0,r.jsx)(n.code,{children:"merak::json::GenericDocument"}),") is actually implemented using the SAX-style API (",(0,r.jsx)(n.code,{children:"merak::json::GenericReader"}),"). SAX is faster, but DOM is sometimes easier to use\u2014users can choose based on their needs."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"parsing",children:"Parsing"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Recursive (default) and iterative parsers","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The recursive parser is faster but may cause stack overflow in extreme cases."}),"\n",(0,r.jsx)(n.li,{children:"The iterative parser uses a custom stack to maintain parsing state."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Supports in situ parsing.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Parses JSON string values directly into the original JSON buffer, then has the DOM point to those strings."}),"\n",(0,r.jsx)(n.li,{children:"Faster than regular parsing: no memory allocation for strings, no copying (if strings have no escape characters), and cache-friendly."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["For JSON numeric types, supports 32-bit/64-bit signed/unsigned integers and ",(0,r.jsx)(n.code,{children:"double"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Error handling","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Supports detailed parse error codes."}),"\n",(0,r.jsx)(n.li,{children:"Supports localized error messages."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"dom-document",children:"DOM (Document)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Merak checks numeric ranges during type conversion."}),"\n",(0,r.jsxs)(n.li,{children:["String literal optimization","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Stores only pointers, no copying."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Short string optimization","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Stores short strings within ",(0,r.jsx)(n.code,{children:"Value"})," without additional allocation."]}),"\n",(0,r.jsx)(n.li,{children:"For UTF-8 strings: up to 11 characters on 32-bit architectures, 21 characters on 64-bit (13 characters on x86-64)."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Optional support for ",(0,r.jsx)(n.code,{children:"std::string"})," (define ",(0,r.jsx)(n.code,{children:"RAPIDJSON_HAS_STDSTRING=1"}),")."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"generation",children:"Generation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Supports ",(0,r.jsx)(n.code,{children:"merak::json::PrettyWriter"})," to add line breaks and indentation."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"inputoutput-streams",children:"Input/Output Streams"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Supports ",(0,r.jsx)(n.code,{children:"merak::json::GenericStringBuffer"})," to store output JSON in a string."]}),"\n",(0,r.jsxs)(n.li,{children:["Supports ",(0,r.jsx)(n.code,{children:"merak::json::FileReadStream"})," and ",(0,r.jsx)(n.code,{children:"merak::json::FileWriteStream"})," for input/output using ",(0,r.jsx)(n.code,{children:"FILE"})," objects."]}),"\n",(0,r.jsx)(n.li,{children:"Supports custom input/output streams."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"memory",children:"Memory"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Minimizes DOM memory overhead.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"On most 32/64-bit machines, each JSON value occupies only 16 or 20 bytes (excluding strings)."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Supports a fast default allocator.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"It is a stack-based allocator (sequential allocation, no individual deallocation\u2014ideal for parsing)."}),"\n",(0,r.jsx)(n.li,{children:"Users can also provide a pre-allocated buffer (enabling parsing of multiple JSONs without CRT allocation in some cases)."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Supports the standard CRT (C-runtime) allocator."}),"\n",(0,r.jsx)(n.li,{children:"Supports custom allocators."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"others",children:"Others"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Optional support for some C++11 features","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Rvalue references"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"noexcept"})," specifier"]}),"\n",(0,r.jsx)(n.li,{children:"Range-based for loops"}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>c});var i=s(6540);const r={},l=i.createContext(r);function t(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);