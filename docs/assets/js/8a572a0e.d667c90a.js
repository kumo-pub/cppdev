"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[7280],{331:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"rpc/httplib","title":"cpp-httplib","description":"cpp-httplib is a single-header HTTP library for C++.","source":"@site/docs/rpc/httplib.mdx","sourceDirName":"rpc","slug":"/rpc/httplib","permalink":"/cppdev/docs/rpc/httplib","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"cpp-httplib"},"sidebar":"tutorialSidebar","previous":{"title":"ACL Library Overview","permalink":"/cppdev/docs/rpc/acl"},"next":{"title":"krpc","permalink":"/cppdev/docs/category/krpc"}}');var l=i(4848),t=i(8453);const r={title:"cpp-httplib"},c=void 0,o={},a=[{value:"1. What cpp-httplib actually is",id:"1-what-cpp-httplib-actually-is",level:2},{value:"2. What it is not",id:"2-what-it-is-not",level:2},{value:"3. Where it fits",id:"3-where-it-fits",level:2},{value:"4. Why it is not used for core services",id:"4-why-it-is-not-used-for-core-services",level:2},{value:"5. Typical usage pattern",id:"5-typical-usage-pattern",level:2},{value:"6. Minimal example",id:"6-minimal-example",level:2},{value:"7. Summary",id:"7-summary",level:2}];function d(e){const n={code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.p,{children:["cpp-httplib is a ",(0,l.jsx)(n.strong,{children:"single-header HTTP library"})," for C++.\nIt is designed for ",(0,l.jsx)(n.strong,{children:"convenience"}),", not for building large-scale service ecosystems."]}),"\n",(0,l.jsxs)(n.p,{children:["In Kumo, it is used for ",(0,l.jsx)(n.strong,{children:"quick validation, local tools, and lightweight services"}),"."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"1-what-cpp-httplib-actually-is",children:"1. What cpp-httplib actually is"}),"\n",(0,l.jsx)(n.p,{children:"cpp-httplib is:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Header-only"}),"\n",(0,l.jsx)(n.li,{children:"Zero build system"}),"\n",(0,l.jsx)(n.li,{children:"Zero runtime dependencies"}),"\n",(0,l.jsx)(n.li,{children:"Very small API surface"}),"\n",(0,l.jsx)(n.li,{children:"Easy to embed into any C++ project"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"It gives you:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"HTTP server"}),"\n",(0,l.jsx)(n.li,{children:"HTTP client"}),"\n",(0,l.jsx)(n.li,{children:"Basic TLS support"}),"\n",(0,l.jsx)(n.li,{children:"Routing"}),"\n",(0,l.jsx)(n.li,{children:"Request and response handling"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"You include one header and you are done."}),"\n",(0,l.jsx)(n.p,{children:"That is its entire value."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"2-what-it-is-not",children:"2. What it is not"}),"\n",(0,l.jsxs)(n.p,{children:["cpp-httplib does ",(0,l.jsx)(n.strong,{children:"not"})," provide:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Service discovery"}),"\n",(0,l.jsx)(n.li,{children:"Load balancing"}),"\n",(0,l.jsx)(n.li,{children:"Connection pooling"}),"\n",(0,l.jsx)(n.li,{children:"Deadlines or cancellation"}),"\n",(0,l.jsx)(n.li,{children:"Streaming"}),"\n",(0,l.jsx)(n.li,{children:"Backpressure"}),"\n",(0,l.jsx)(n.li,{children:"Structured metadata"}),"\n",(0,l.jsx)(n.li,{children:"Authentication frameworks"}),"\n",(0,l.jsx)(n.li,{children:"Observability integration"}),"\n",(0,l.jsx)(n.li,{children:"Cross-language support"}),"\n",(0,l.jsx)(n.li,{children:"A production RPC ecosystem"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["It is not a service platform.\nIt is a ",(0,l.jsx)(n.strong,{children:"utility HTTP stack"}),"."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"3-where-it-fits",children:"3. Where it fits"}),"\n",(0,l.jsx)(n.p,{children:"cpp-httplib fits in exactly these scenarios:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Local development servers"}),"\n",(0,l.jsx)(n.li,{children:"Debug endpoints"}),"\n",(0,l.jsx)(n.li,{children:"Internal admin APIs"}),"\n",(0,l.jsx)(n.li,{children:"One-off tools"}),"\n",(0,l.jsx)(n.li,{children:"Data import/export utilities"}),"\n",(0,l.jsx)(n.li,{children:"Temporary validation services"}),"\n",(0,l.jsx)(n.li,{children:"Test harnesses"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"These are places where:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"You want to start something in minutes"}),"\n",(0,l.jsx)(n.li,{children:"You do not want to deal with toolchains"}),"\n",(0,l.jsx)(n.li,{children:"You do not want to manage runtime dependencies"}),"\n",(0,l.jsx)(n.li,{children:"You do not need a large ecosystem"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"4-why-it-is-not-used-for-core-services",children:"4. Why it is not used for core services"}),"\n",(0,l.jsx)(n.p,{children:"In real production systems, HTTP endpoints quickly require:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Authentication"}),"\n",(0,l.jsx)(n.li,{children:"Authorization"}),"\n",(0,l.jsx)(n.li,{children:"Rate limiting"}),"\n",(0,l.jsx)(n.li,{children:"Tracing"}),"\n",(0,l.jsx)(n.li,{children:"Metrics"}),"\n",(0,l.jsx)(n.li,{children:"TLS management"}),"\n",(0,l.jsx)(n.li,{children:"Multi-language clients"}),"\n",(0,l.jsx)(n.li,{children:"Deployment automation"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"cpp-httplib does not integrate with any of this."}),"\n",(0,l.jsx)(n.p,{children:"If you try to build a real service on top of it, you will end up re-implementing\nhalf of an RPC stack."}),"\n",(0,l.jsx)(n.p,{children:"That is exactly what gRPC and brpc already solve."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"5-typical-usage-pattern",children:"5. Typical usage pattern"}),"\n",(0,l.jsx)(n.p,{children:"cpp-httplib is ideal for:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:'"Give me a quick HTTP endpoint so I can test this"'}),"\n",(0,l.jsx)(n.li,{children:'"Expose a debug API"'}),"\n",(0,l.jsx)(n.li,{children:'"Serve a small control or admin interface"'}),"\n",(0,l.jsx)(n.li,{children:'"Validate data flow before building the real service"'}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["It is a ",(0,l.jsx)(n.strong,{children:"prototype and tooling library"}),", not a service platform."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"6-minimal-example",children:"6. Minimal example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'#include "httplib.h"\n\nint main() {\n    httplib::Server svr;\n\n    svr.Get("/ping", [](const httplib::Request&, httplib::Response& res) {\n        res.set_content("pong", "text/plain");\n    });\n\n    svr.listen("0.0.0.0", 8080);\n}\n'})}),"\n",(0,l.jsx)(n.p,{children:"This is exactly what cpp-httplib is good at:\na working HTTP service in a few lines of code."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"7-summary",children:"7. Summary"}),"\n",(0,l.jsx)(n.p,{children:"cpp-httplib is chosen when:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"You need something now"}),"\n",(0,l.jsx)(n.li,{children:"You want minimal friction"}),"\n",(0,l.jsx)(n.li,{children:"You do not need an ecosystem"}),"\n",(0,l.jsx)(n.li,{children:"You do not want operational complexity"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"It is not used for:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Business APIs"}),"\n",(0,l.jsx)(n.li,{children:"High-QPS services"}),"\n",(0,l.jsx)(n.li,{children:"Multi-language integration"}),"\n",(0,l.jsx)(n.li,{children:"Long-term service infrastructure"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["In Kumo, cpp-httplib is a ",(0,l.jsx)(n.strong,{children:"tool"}),", not a ",(0,l.jsx)(n.strong,{children:"platform"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>c});var s=i(6540);const l={},t=s.createContext(l);function r(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);