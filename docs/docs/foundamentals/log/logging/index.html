<!doctype html>
<html lang="en-GB" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-foundamentals/log/logging" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Logging | Kumo Foundamental</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/cppdev/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/cppdev/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/cppdev/docs/foundamentals/log/logging"><meta data-rh="true" property="og:locale" content="en_GB"><meta data-rh="true" property="og:locale:alternate" content="zh_cn"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Logging | Kumo Foundamental"><meta data-rh="true" name="description" content="The turbo Logging library provides tools for writing short text messages about program state to stderr, disk files, or other receivers (via the extension API)."><meta data-rh="true" property="og:description" content="The turbo Logging library provides tools for writing short text messages about program state to stderr, disk files, or other receivers (via the extension API)."><link data-rh="true" rel="icon" href="/cppdev/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/cppdev/docs/foundamentals/log/logging"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/cppdev/docs/foundamentals/log/logging" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/cppdev/zh-cn/docs/foundamentals/log/logging" hreflang="zh-cn"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/cppdev/docs/foundamentals/log/logging" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Foundamentals","item":"https://your-docusaurus-site.example.com/cppdev/docs/category/foundamentals"},{"@type":"ListItem","position":2,"name":"Log Section","item":"https://your-docusaurus-site.example.com/cppdev/docs/foundamentals/log/"},{"@type":"ListItem","position":3,"name":"Log Tutorial","item":"https://your-docusaurus-site.example.com/cppdev/docs/category/log-tutorial"},{"@type":"ListItem","position":4,"name":"Logging","item":"https://your-docusaurus-site.example.com/cppdev/docs/foundamentals/log/logging"}]}</script><link rel="alternate" type="application/rss+xml" href="/cppdev/blog/rss.xml" title="Kumo Foundamental RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/cppdev/blog/atom.xml" title="Kumo Foundamental Atom Feed"><link rel="stylesheet" href="/cppdev/assets/css/styles.a7490ef4.css">
<script src="/cppdev/assets/js/runtime~main.49afcf3f.js" defer="defer"></script>
<script src="/cppdev/assets/js/main.abbd5e2e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/cppdev/img/kumo-logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cppdev/"><div class="navbar__logo"><img src="/cppdev/img/kumo-logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/cppdev/img/kumo-logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Foundamental</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cppdev/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/cppdev/docs/integration/overview">Integration</a><a class="navbar__item navbar__link" href="/cppdev/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/cppdev/docs/foundamentals/log/logging" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-GB">English</a></li><li><a href="/cppdev/zh-cn/docs/foundamentals/log/logging" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-cn">中文（中国）</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cppdev/docs/intro"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/cppdev/docs/category/foundamentals"><span title="Foundamentals" class="categoryLinkLabel_W154">Foundamentals</span></a><button aria-label="Collapse sidebar category &#x27;Foundamentals&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/cppdev/docs/foundamentals/testing/"><span title="Performance Testing and Unit Testing" class="categoryLinkLabel_W154">Performance Testing and Unit Testing</span></a><button aria-label="Expand sidebar category &#x27;Performance Testing and Unit Testing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/cppdev/docs/foundamentals/log/"><span title="Log Section" class="categoryLinkLabel_W154">Log Section</span></a><button aria-label="Collapse sidebar category &#x27;Log Section&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/cppdev/docs/category/get-start"><span title="get start" class="categoryLinkLabel_W154">get start</span></a><button aria-label="Expand sidebar category &#x27;get start&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/cppdev/docs/category/log-tutorial"><span title="Log Tutorial" class="categoryLinkLabel_W154">Log Tutorial</span></a><button aria-label="Collapse sidebar category &#x27;Log Tutorial&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cppdev/docs/foundamentals/log/logging"><span title="Logging" class="linkLabel_WmDU">Logging</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/docs/foundamentals/log/sinks"><span title="Custom Log Sinks" class="linkLabel_WmDU">Custom Log Sinks</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/docs/foundamentals/log/builtin_sinks"><span title="Built-in LogSink Receivers" class="linkLabel_WmDU">Built-in LogSink Receivers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/docs/foundamentals/log/flags"><span title="Configure Logging" class="linkLabel_WmDU">Configure Logging</span></a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/docs/foundamentals/time"><span title="Time and Calendar" class="linkLabel_WmDU">Time and Calendar</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/cppdev/docs/category/standardized-errors-and-error-return-values"><span title="Standardized Errors and Error Return Values" class="categoryLinkLabel_W154">Standardized Errors and Error Return Values</span></a><button aria-label="Expand sidebar category &#x27;Standardized Errors and Error Return Values&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/cppdev/docs/foundamentals/strings/"><span title="strings operations" class="categoryLinkLabel_W154">strings operations</span></a><button aria-label="Expand sidebar category &#x27;strings operations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/docs/foundamentals/flags"><span title="Turbo Command-Line Flags (Turbo Flags)" class="linkLabel_WmDU">Turbo Command-Line Flags (Turbo Flags)</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/cppdev/docs/foundamentals/codec/"><span title="Codec" class="categoryLinkLabel_W154">Codec</span></a><button aria-label="Expand sidebar category &#x27;Codec&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cppdev/docs/foundamentals/format/"><span title="Format &amp; Output (String Formatting and Output)" class="linkLabel_WmDU">Format &amp; Output (String Formatting and Output)</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/cppdev/docs/foundamentals/map/"><span title="Map Containers" class="categoryLinkLabel_W154">Map Containers</span></a><button aria-label="Expand sidebar category &#x27;Map Containers&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/cppdev/docs/foundamentals/compress/"><span title="Compression" class="categoryLinkLabel_W154">Compression</span></a><button aria-label="Expand sidebar category &#x27;Compression&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/cppdev/docs/foundamentals/fibers/"><span title="Fiber And Future" class="categoryLinkLabel_W154">Fiber And Future</span></a><button aria-label="Expand sidebar category &#x27;Fiber And Future&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/cppdev/docs/foundamentals/monitor/"><span title="monitor" class="categoryLinkLabel_W154">monitor</span></a><button aria-label="Expand sidebar category &#x27;monitor&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/cppdev/docs/foundamentals/filesystem/"><span title="filesystem" class="categoryLinkLabel_W154">filesystem</span></a><button aria-label="Expand sidebar category &#x27;filesystem&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/cppdev/docs/foundamentals/json/"><span title="json" class="categoryLinkLabel_W154">json</span></a><button aria-label="Expand sidebar category &#x27;json&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/cppdev/docs/rpc/"><span title="rpc" class="categoryLinkLabel_W154">rpc</span></a><button aria-label="Expand sidebar category &#x27;rpc&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/cppdev/docs/retrieve/"><span title="Retrieve" class="categoryLinkLabel_W154">Retrieve</span></a><button aria-label="Expand sidebar category &#x27;Retrieve&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/cppdev/docs/store/"><span title="store" class="categoryLinkLabel_W154">store</span></a><button aria-label="Expand sidebar category &#x27;store&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/cppdev/docs/ir/"><span title="IR" class="categoryLinkLabel_W154">IR</span></a><button aria-label="Expand sidebar category &#x27;IR&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/cppdev/docs/advance/"><span title="advance" class="categoryLinkLabel_W154">advance</span></a><button aria-label="Expand sidebar category &#x27;advance&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/cppdev/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/cppdev/docs/category/foundamentals"><span>Foundamentals</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/cppdev/docs/foundamentals/log/"><span>Log Section</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/cppdev/docs/category/log-tutorial"><span>Log Tutorial</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Logging</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Logging</h1></header>
<p>The turbo Logging library provides tools for writing short text messages about program state to <code>stderr</code>, <code>disk files</code>, or <code>other receivers</code> (via the extension API).</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="API">API Overview<a href="#API" class="hash-link" aria-label="Direct link to API Overview" title="Direct link to API Overview" translate="no">​</a></h2>
<p>The <code>KLOG()</code> and <code>kCHECK()</code> macro families are the core of the API. Each forms the start of a statement into which additional data can be streamed, much like <code>std::cout</code>.</p>
<p>All data streamed into a single macro will be concatenated and written to the log file as one message, with a <a href="#prefix" class="">prefix</a> formed from metadata (time, file/line, etc.). Notably, unlike <code>std::cout</code>, the library supplies a newline at the end of each message, so you should generally not end log statements with <code>\n</code> or <code>std::endl</code>. Any newlines <em>that are</em> streamed in will appear in the log file.</p>
<p>For more detailed information, refer to the header files.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="KLOG"><code>KLOG()</code> Macro<a href="#KLOG" class="hash-link" aria-label="Direct link to KLOG" title="Direct link to KLOG" translate="no">​</a></h3>
<p><code>KLOG()</code> takes a severity level as an argument, which defines the granularity and type of logging information to be recorded. The four basic severity levels are <code>INFO</code>, <code>WARNING</code>, <code>ERROR</code>, and <code>FATAL</code>. <code>FATAL</code> is not named arbitrarily; it causes the logging library to terminate the process after recording the streamed message.
See below for more information on <a href="#severity" class="">log levels</a>, including best practices for choosing one.</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">KLOG(INFO) &lt;&lt; &quot;Hello Kumo!&quot;;</span><br></span></code></pre></div></div>
<p>This will generate a message in the log like the following:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">I0926 09:00:00.000000 12345 foo.cc:10] Hello Kumo!</span><br></span></code></pre></div></div>
<p>The format of the metadata is documented <a href="#prefix" class="">below</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="kCHECK"><code>kCHECK()</code> Macro<a href="#kCHECK" class="hash-link" aria-label="Direct link to kCHECK" title="Direct link to kCHECK" translate="no">​</a></h3>
<p><code>kCHECK()</code> is an assertion. Its severity is always <code>FATAL</code>, so its only argument is a condition that <code>should</code> be true. If not, <code>kCHECK()</code> writes to the log and terminates the process. It is active in <strong>all build modes</strong> (unlike the C <code>assert()</code> macro) and logs failures to the application log in a manner similar to <code>KLOG()</code>, but includes additional information about the reason for the failure and where it occurred.</p>
<p>Like <code>FATAL</code>, <code>CHECK()</code> assertions should be used sparingly (especially in server code) and only in cases where it is better to actually terminate the process rather than attempt recovery: for example, unrecoverable errors, or memory corruption that could corrupt user data. Note that you should also be aware of where your code may be running; a <code>kCHECK()</code> in a command-line utility or batch processing job requires less caution than a <code>CHECK()</code> in a user-facing service. If you are unsure where the code will run (e.g., if you are writing a utility library), err on the side of caution and assume it will be used in production-facing services, and avoid <code>kCHECK()</code> whenever possible.</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kCHECK(!filenames_sorted.empty()) &lt;&lt; &quot;no files matched&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ProcessFile(filenames_sorted.front());</span><br></span></code></pre></div></div>
<p>This will generate a message in the log like the following:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">F0926 09:00:01.000000   12345 foo.cc:100] Check failed: !filenames_sorted.empty() no files matched</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E0926 09:00:01.150000   12345 process_state.cc:1133] *** SIGABRT received by PID 12345 (TID 12345) on cpu 0 from PID 12345; stack trace: ***</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E0926 09:00:01.250000   12345 process_state.cc:1136] PC: @     0xdeadbeef  (unknown)  raise</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @     0xdeadbeef       1920  FailureSignalHandler()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @     0xdeadc0w5    2377680  (unknown)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(more stack frames follow)</span><br></span></code></pre></div></div>
<p>Note that this log entry uses the prefix <code>F</code> for the <code>FATAL</code> log level. The text of the condition itself is recorded before the streamed operands.
Additionally, the stack trace is logged at severity <code>ERROR</code> (on lines prefixed with <code>E</code> for <code>ERROR</code>) after the <code>FATAL</code> message but before process termination.</p>
<p>A special two-argument form is spelled <code>CHECK_EQ()</code>, <code>CHECK_GT()</code>, <code>CHECK_STREQ()</code> (for <code>char*</code> strings), etc., which can be used to assert comparisons between streamable, comparable types. In addition to the text of the arguments, these forms record the actual values of the arguments.</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">int x = 3, y = 5;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CHECK_EQ(2 * x, y) &lt;&lt; &quot;oops!&quot;;</span><br></span></code></pre></div></div>
<p>This will generate a message in the log like the following:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">F0926 09:00:02.000000   12345 foo.cc:20] Check failed: 2 * x == y (6 vs. 5) oops!</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="severity">Log Levels<a href="#severity" class="hash-link" aria-label="Direct link to Log Levels" title="Direct link to Log Levels" translate="no">​</a></h3>
<p>The <code>turbo::LogSeverity</code> type represents severity levels. The argument to <code>KLOG()</code> is not actually of this type, or <em>any</em> type. Some macro trickery is used to make <code>KLOG(ERROR)</code> work without using a macro or global symbol named <code>ERROR</code>. This is necessary because <code>ERROR</code> is defined by some popular third-party packages (e.g., Microsoft Windows) and cannot be redefined.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="four-proper-log-levels">Four Proper Log Levels<a href="#four-proper-log-levels" class="hash-link" aria-label="Direct link to Four Proper Log Levels" title="Direct link to Four Proper Log Levels" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="severity-info"><code>INFO</code><a href="#severity-info" class="hash-link" aria-label="Direct link to severity-info" title="Direct link to severity-info" translate="no">​</a></h5>
<p>Corresponds to <code>turbo::LogSeverity::kInfo</code>. It describes <em>expected</em> events that are important for understanding the state of the <em>program</em> but do not indicate a problem. Libraries, especially low-level public libraries, should use this level sparingly to avoid spamming the logs of every program that uses them.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="severity-warning"><code>WARNING</code><a href="#severity-warning" class="hash-link" aria-label="Direct link to severity-warning" title="Direct link to severity-warning" translate="no">​</a></h5>
<p>Corresponds to <code>turbo::LogSeverity::kWarning</code>. It describes unexpected events that <em>may</em> indicate a problem but from which the program can recover.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="severity-error"><code>ERROR</code><a href="#severity-error" class="hash-link" aria-label="Direct link to severity-error" title="Direct link to severity-error" translate="no">​</a></h5>
<p>Corresponds to <code>turbo::LogSeverity::kError</code>. It describes unexpected problematic events from which the program was able to recover. <code>ERROR</code> messages should be actionable, meaning they should describe an actual problem with the software or its configuration (rather than, for example, user input) and the combination of message, filename and line number, and surrounding messages should be at least sufficient to understand the reported event.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="severity-fatal"><code>FATAL</code><a href="#severity-fatal" class="hash-link" aria-label="Direct link to severity-fatal" title="Direct link to severity-fatal" translate="no">​</a></h5>
<p>Corresponds to <code>turbo::LogSeverity::kFatal</code> and is the implicit severity level for <code>kCHECK</code> failures. It describes an unrecoverable problem. Logging at this level terminates the process. The <code>FATAL</code> logging level should be used cautiously, especially for services—particularly user-facing services—and for library code that may be included in such services. Every fatal log is a potential outage if a large portion of service workers experience it simultaneously.<br>
Fatal logging is generally more appropriate for developer tools, certain batch jobs, and failures at job startup. That said, process termination and outages are always better than undefined behavior (which may include user data corruption and/or security or privacy incidents), so <code>FATAL</code> is sometimes appropriate even in server and library code as a last resort response to unexpected behavior that cannot be handled in any other way.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="two-pseudo-levels">Two Pseudo-Levels<a href="#two-pseudo-levels" class="hash-link" aria-label="Direct link to Two Pseudo-Levels" title="Direct link to Two Pseudo-Levels" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="severity-dfatal"><code>DFATAL</code><a href="#severity-dfatal" class="hash-link" aria-label="Direct link to severity-dfatal" title="Direct link to severity-dfatal" translate="no">​</a></h5>
<p>(&quot;debug fatal&quot;) corresponds to <code>turbo::kLogDebugFatal</code>. In optimized builds, its value is <code>ERROR</code> (e.g., in production) and <code>FATAL</code> in other builds (e.g., tests). It can be used to ensure that unexpected events cause test failures (by terminating the process) but do not harm production. Since production workers will continue after a <code>DFATAL</code> failure, ensure recovery is graceful.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="severity-qfatal"><code>QFATAL</code><a href="#severity-qfatal" class="hash-link" aria-label="Direct link to severity-qfatal" title="Direct link to severity-qfatal" translate="no">​</a></h5>
<p>(&quot;quiet fatal&quot;) has no corresponding <code>turbo::LogSeverity</code> value. It behaves like <code>FATAL</code>, except that no stack trace is logged and <code>atexit()</code> handlers are not run. This is usually the best choice for errors that occur at startup (e.g., flag validation), where control flow is uninteresting and diagnostics are unnecessary.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dynamic-log-levels">Dynamic Log Levels<a href="#dynamic-log-levels" class="hash-link" aria-label="Direct link to Dynamic Log Levels" title="Direct link to Dynamic Log Levels" translate="no">​</a></h3>
<p>If you want to specify the severity level using a C++ expression—for example, so that the level used varies at runtime—you can do so as well:</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">KLOG(LEVEL(MoonPhase() == kFullMoon ? turbo::LogSeverity::kFatal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                   : turbo::LogSeverity::kError))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;&lt; &quot;Spooky error!&quot;;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="VKLOG"><code>VKLOG()</code> Macro<a href="#VKLOG" class="hash-link" aria-label="Direct link to VKLOG" title="Direct link to VKLOG" translate="no">​</a></h3>
<p><code>VKLOG()</code> (&quot;verbose log&quot;) is used for runtime-configurable debug logging. This macro takes a non-negative integer verbosity level as an argument—<code>INFO</code> is implied as the severity. Verbosity level values are arbitrary, but lower values correspond to more visible messages. Non-zero verbosity levels are disabled by default, and the performance cost of disabled <code>VKLOG()</code> is very small, so it is acceptable to use <code>VLOG()</code> liberally in most parts of Kumo without risk of significant performance degradation.</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Foo::Foo(int num_bars) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  VKLOG(4) &lt;&lt; &quot;Constructing a new Foo with &quot; &lt;&lt; num_bars &lt;&lt; &quot; Bars&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  for (int i = 0; i &lt; num_bars; i++) bars_.push_back(MakeBar(this));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Setting the <code>--verbosity</code> flag will turn on all <code>VKLOG()</code> messages at or below the specified level. This can make your logs hard to read and/or fill your disk. The <code>--vmodule</code> flag allows setting different levels for different source files; it takes a comma-separated list of <code>key=value</code> pairs where each key is a glob that matches filenames and each value is the verbosity level that should apply to matching files. Verbosity logging levels can also be changed at runtime using <code>turbo::set_vlog_level</code> and <code>turbo::set_global_vlog_level</code>:</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class FooTest : public testing::Test {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> protected:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  FooTest() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Crank up the `VKLOG()` level for `Foo` since it does not log much otherwise:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    turbo::set_vlog_level(&quot;foo_impl&quot;, 4);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="mutators">Other Macro Variants<a href="#mutators" class="hash-link" aria-label="Direct link to Other Macro Variants" title="Direct link to Other Macro Variants" translate="no">​</a></h3>
<p>The logging API includes numerous additional macros for special cases.</p>
<ul>
<li class="">
<p><code>QCHECK()</code> works like <code>kCHECK()</code> but has the same variant relationship to <code>QFATAL</code> as <code>kCHECK()</code> does to <code>FATAL</code>: it does not log a stack trace or run <code>atexit()</code> handlers on failure.</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> int main (int argc, char**argv) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   turbo::ParseCommandLine(argc, argv);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   QCHECK(!turbo::get_flag(FLAGS_path).empty()) &lt;&lt; &quot;--path is required&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ...</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><code>PKLOG()</code> and <code>PKCHECK()</code> automatically append a string describing <code>errno</code> to the logged message. They are useful for system library calls that set <code>errno</code> on failure to indicate the nature of the failure. Their names are intended to align with the <code>perror</code> library function.</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   const int fd = open(path.c_str(), O_RDONLY);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   PKCHECK(fd != -1) &lt;&lt; &quot;Failed to open &quot; &lt;&lt; path;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   const ssize_t bytes_read = read(fd, buf, sizeof(buf));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   PKCHECK(bytes_read != -1) &lt;&lt; &quot;Failed to read from &quot; &lt;&lt; path;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   const int close_ret = close(fd);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   if (close_ret == -1) PKLOG(WARNING) &lt;&lt; &quot;Failed to close &quot; &lt;&lt; path;</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><code>DKLOG()</code> (&quot;debug log&quot;) and <code>DKCHECK()</code> disappear entirely from binaries in optimized builds. Note that <code>DKLOG(FATAL)</code> and <code>DKCHECK()</code> have very different semantics from <code>KLOG(DFATAL)</code>.<br>
Debug logging is useful for providing information that is helpful when debugging tests but costly to collect in production (e.g., acquiring contended locks):</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DKLOG(INFO) &lt;&lt; server.State();</span><br></span></code></pre></div></div>
<p>Use <code>DKCHECK()</code> carefully; if it&#x27;s worth checking in tests it may be worth checking in production too:</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DKCHECK(ptr != nullptr);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ptr-&gt;Method();</span><br></span></code></pre></div></div>
<p><code>DKCHECK</code> is sometimes useful for checking invariants in very hot code paths where the check in tests must be relied upon to validate behavior in production.<br>
Like <code>assert()</code>, ensure you do not rely on the evaluation of side effects in <code>DKCHECK</code> and <code>DKLOG</code> statements:</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DKCHECK(server.Start());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// In an optimized build, no attempt will have been made to start the</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// server!</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><code>LOG_IF()</code> adds a conditional argument, equivalent to an <code>if</code> statement. Like <code>if</code> and the ternary operator, the condition will be converted to <code>bool</code> based on context. Variants like <code>PLOG_IF()</code> and <code>DLOG_IF()</code> also exist.</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">LOG_IF(INFO, turbo::get_flag(FLAGS_dry_run))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;&lt; &quot;--dry_run set; no changes will be made&quot;;</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><code>LOG_EVERY_N()</code>, <code>LOG_FIRST_N()</code>, <code>LOG_EVERY_N_SEC()</code>, and <code>LOG_EVERY_POW_2()</code> add more complex conditions that are not easily replicated with a simple <code>if</code> statement. Each of these maintains a static state object per statement in storage, used to determine when it is time to log again. They are thread-safe.<br>
The token <code>COUNTER</code> can be streamed into these; it will be replaced with a monotonically increasing count of the number of times this statement has been executed, including times when logging occurred and times when it did not. Macro variants with additional conditions (e.g., <code>LOG_IF_EVERY_N()</code>) also exist, as do many combinations with <code>VKLOG()</code>, <code>PKLOG()</code>, and <code>DLOG()</code>.</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">LOG_EVERY_N(WARNING, 1000) &lt;&lt; &quot;Got a packet with a bad CRC (&quot; &lt;&lt; COUNTER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                          &lt;&lt; &quot; total)&quot;;</span><br></span></code></pre></div></div>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="mutator-methods">Mutator Methods<a href="#mutator-methods" class="hash-link" aria-label="Direct link to Mutator Methods" title="Direct link to Mutator Methods" translate="no">​</a></h3>
<p>The <code>KLOG()</code> and <code>kCHECK()</code> macros support a number of chainable methods that alter their behavior.</p>
<ul>
<li class="">
<p><code>.AtLocation(std::string_view file, int line)</code><br>
Overrides the location inferred from the call site. The string pointed to by <code>file</code> must be valid until the end of the statement.</p>
</li>
<li class="">
<p><code>.NoPrefix()</code><br>
Omits the <a href="#prefix" class="">prefix</a> in this line. The prefix contains metadata about the logged data, such as source code location and timestamp.</p>
</li>
<li class="">
<p><code>.WithVerbosity(int verbose_level)</code><br>
Sets the verbosity field of the logged message as if it were emitted by <code>VLOG(verbose_level)</code>. Unlike <code>VLOG()</code>, this method does not affect whether the statement is evaluated when the specified <code>verbose_level</code> is disabled. The only effect is on <code>turbo::LogSink</code> implementations that use the <code>turbo::LogSink::verbosity()</code> value. The value <code>turbo::LogEntry::kNoVerbosityLevel</code> can be specified to mark the message as having no verbosity level.</p>
</li>
<li class="">
<p><code>.WithTimestamp(turbo::Time timestamp)</code><br>
Uses the specified timestamp instead of the one collected at the time of execution.</p>
</li>
<li class="">
<p><code>.WithThreadID(turbo::LogEntry::tid_t tid)</code><br>
Uses the specified thread ID instead of the one collected at the time of execution.</p>
</li>
<li class="">
<p><code>.WithMetadataFrom(const turbo::LogEntry &amp;entry)</code><br>
Copies all metadata (but not data) from the specified <code>turbo::LogEntry</code>.<br>
This can be used to change the severity of a message, but it has some limitations:</p>
<ul>
<li class=""><code>TURBO_MIN_LOG_LEVEL</code> is evaluated based on the severity passed to <code>KLOG</code> (or the implicit <code>FATAL</code> level for <code>CHECK</code>).</li>
<li class=""><code>KLOG(FATAL)</code> and <code>kCHECK</code> unconditionally terminate the process even if the severity is changed later.</li>
</ul>
</li>
<li class="">
<p><code>.WithPerror()</code><br>
Appends a colon, a space, the textual description of the current value of <code>errno</code> (as per <code>strerror(3)</code>), and the numeric value of <code>errno</code> to the logged message. The result is equivalent to <code>PKLOG()</code> and <code>PKCHECK()</code>.</p>
</li>
<li class="">
<p><code>.ToSinkAlso(turbo::LogSink* sink)</code><br>
Sends this message to <code>*sink</code> in addition to any other sinks it would have been sent to otherwise. <code>sink</code> must not be null.</p>
</li>
<li class="">
<p><code>.ToSinkOnly(turbo::LogSink* sink)</code><br>
Sends this message to <code>*sink</code> and no others. <code>sink</code> must not be null.</p>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="output">Log Message Output<a href="#output" class="hash-link" aria-label="Direct link to Log Message Output" title="Direct link to Log Message Output" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="prefix">Log Prefix<a href="#prefix" class="hash-link" aria-label="Direct link to Log Prefix" title="Direct link to Log Prefix" translate="no">​</a></h3>
<p>Each message is logged with metadata in the following form:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">I0926 09:00:00.000000   12345 foo.cc:10] Hello world!</span><br></span></code></pre></div></div>
<p>The prefix starts with <code>I</code>, representing the <code>INFO</code> log level, combined with the date <code>0926</code>. The time is in microseconds, in the machine&#x27;s local time zone. <code>12345</code> is the thread ID number. <code>foo.cc:10</code> is the location in the source code where the <code>KLOG()</code> statement appears, and the bracket and space are a fixed separator before the message itself.</p>
<p>Prefixes can be suppressed globally using the <code>FLAGS_log_with_prefix</code> flag, or for individual messages using the <code>.NoPrefix()</code> <a href="#mutators" class="">mutator method</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="stderr"><code>stderr</code> Output<a href="#stderr" class="hash-link" aria-label="Direct link to stderr" title="Direct link to stderr" translate="no">​</a></h3>
<p>By default, a <code>LogSink</code> that writes to <code>stderr</code> is included and registered.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/foundamentals/log/logging.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/cppdev/docs/category/log-tutorial"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Log Tutorial</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cppdev/docs/foundamentals/log/sinks"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Custom Log Sinks</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#API" class="table-of-contents__link toc-highlight">API Overview</a><ul><li><a href="#KLOG" class="table-of-contents__link toc-highlight"><code>KLOG()</code> Macro</a></li><li><a href="#kCHECK" class="table-of-contents__link toc-highlight"><code>kCHECK()</code> Macro</a></li><li><a href="#severity" class="table-of-contents__link toc-highlight">Log Levels</a></li><li><a href="#dynamic-log-levels" class="table-of-contents__link toc-highlight">Dynamic Log Levels</a></li><li><a href="#VKLOG" class="table-of-contents__link toc-highlight"><code>VKLOG()</code> Macro</a></li><li><a href="#mutators" class="table-of-contents__link toc-highlight">Other Macro Variants</a></li><li><a href="#mutator-methods" class="table-of-contents__link toc-highlight">Mutator Methods</a></li></ul></li><li><a href="#output" class="table-of-contents__link toc-highlight">Log Message Output</a><ul><li><a href="#prefix" class="table-of-contents__link toc-highlight">Log Prefix</a></li><li><a href="#stderr" class="table-of-contents__link toc-highlight"><code>stderr</code> Output</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cppdev/docs/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cppdev/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/kumo-pub" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Kumo, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>